<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>London Travel Itinerary 2025 | 3/30-4/6</title>
  <meta name="description" content="2025年3月30日〜4月6日 ロンドン渡航の旅のしおり - 日本vsイングランド@ウェンブリー観戦を含む英国・ドイツ周遊">

  <!-- OGP Meta Tags -->
  <meta property="og:title" content="London Travel Itinerary 2025">
  <meta property="og:description" content="3/30-4/6 ロンドン渡航・旅のしおり - ウェンブリースタジアムで日本vsイングランド観戦">
  <meta property="og:type" content="website">
  <meta property="og:image" content="images/og-image.jpg">
  <meta name="twitter:card" content="summary_large_image">

  <!-- PWA -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#0b1220">
  <link rel="apple-touch-icon" href="images/icon.svg">
  <link rel="icon" type="image/svg+xml" href="images/icon.svg">

  <!-- Fonts & Icons -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

  <style>
    :root{
      --bg:#0b1220;
      --card:#0f172a;
      --card2:#0b1a33;
      --text:#e5e7eb;
      --muted:#a5b4fc;
      --muted2:#94a3b8;
      --line:rgba(148,163,184,.28);
      --accent:#22c55e;
      --accent2:#60a5fa;
      --warn:#fbbf24;
      --danger:#fb7185;
      --gold:#d4af37;
      --gold-glow:rgba(212,175,55,.3);
      --shadow: 0 18px 60px rgba(0,0,0,.35);
      --radius:18px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: 'Noto Sans JP', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    html{scroll-behavior:smooth}
    body{
      font-family:var(--sans);
      color:var(--text);
      background:
        radial-gradient(1200px 600px at 10% 0%, rgba(96,165,250,.35), transparent 60%),
        radial-gradient(1000px 520px at 90% 10%, rgba(34,197,94,.28), transparent 55%),
        radial-gradient(900px 500px at 50% 120%, rgba(251,113,133,.16), transparent 60%),
        var(--bg);
      line-height:1.7;
      min-height:100vh;
    }

    /* Utility Classes */
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}
    .muted{color:rgba(229,231,235,.70)}
    .mono{font-family:var(--mono)}

    /* Wrapper */
    .wrap{
      max-width:1000px;
      margin:0 auto;
      padding:20px 16px 60px;
    }

    /* Hero Section */
    .hero{
      position:relative;
      border:1px solid rgba(255,255,255,.08);
      border-radius:calc(var(--radius) + 6px);
      overflow:hidden;
      box-shadow:var(--shadow);
      background:linear-gradient(135deg, rgba(15,23,42,.92), rgba(11,26,51,.92));
    }
    .hero-bg{
      position:absolute;
      inset:0;
      background:url('https://images.unsplash.com/photo-1513635269975-59663e0ac1ad?w=1200&q=80') center/cover;
      opacity:.15;
      z-index:0;
    }
    .heroTop{
      position:relative;
      z-index:1;
      padding:30px 28px 22px;
      background:
        radial-gradient(1200px 520px at 10% 10%, rgba(255,255,255,.18), rgba(255,255,255,0)),
        linear-gradient(135deg, rgba(96,165,250,.18), rgba(34,197,94,.16) 55%, rgba(251,113,133,.12));
      border-bottom:1px solid rgba(255,255,255,.10);
    }

    /* Countdown Timer */
    .countdown-container{
      background:rgba(0,0,0,.3);
      border-radius:var(--radius);
      padding:16px 20px;
      margin-bottom:20px;
      border:1px solid rgba(255,255,255,.1);
    }
    .countdown-label{
      font-size:13px;
      color:rgba(229,231,235,.7);
      margin-bottom:8px;
      display:flex;
      align-items:center;
      gap:8px;
    }
    .countdown{
      display:flex;
      gap:16px;
      flex-wrap:wrap;
    }
    .countdown-item{
      text-align:center;
    }
    .countdown-value{
      font-size:32px;
      font-weight:900;
      color:var(--accent2);
      line-height:1;
    }
    .countdown-unit{
      font-size:11px;
      color:rgba(229,231,235,.6);
      text-transform:uppercase;
      letter-spacing:.1em;
    }

    .kicker{
      display:flex;
      align-items:center;
      gap:10px;
      flex-wrap:wrap;
      letter-spacing:.6px;
      text-transform:uppercase;
      font-weight:800;
      font-size:12px;
      color:rgba(229,231,235,.92);
    }
    .title{
      margin:12px 0 16px;
      font-size:26px;
      font-weight:900;
      letter-spacing:.2px;
    }
    .meta{
      display:flex;
      gap:12px;
      flex-wrap:wrap;
      font-size:14px;
    }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:8px 14px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(2,6,23,.35);
      backdrop-filter:blur(8px);
      font-weight:700;
      transition:transform .2s,box-shadow .2s;
    }
    .pill:hover{transform:translateY(-2px);box-shadow:0 8px 20px rgba(0,0,0,.3)}
    .dot{
      width:8px;height:8px;border-radius:999px;display:inline-block;
      background:var(--accent2);
      box-shadow:0 0 0 4px rgba(96,165,250,.18);
    }
    .dot.warn{background:var(--warn);box-shadow:0 0 0 4px rgba(251,191,36,.18)}
    .dot.ok{background:var(--accent);box-shadow:0 0 0 4px rgba(34,197,94,.18)}
    .dot.danger{background:var(--danger);box-shadow:0 0 0 4px rgba(251,113,133,.16)}

    .note{
      margin:16px 0 0;
      color:rgba(229,231,235,.88);
      font-size:14px;
      line-height:1.8;
    }
    .note b{color:#fff}

    /* Summary Grid */
    .grid{
      display:grid;
      grid-template-columns:repeat(4,minmax(0,1fr));
      gap:12px;
      margin-top:18px;
    }
    .card{
      border-radius:var(--radius);
      border:1px solid rgba(255,255,255,.10);
      background:rgba(2,6,23,.28);
      box-shadow:0 12px 40px rgba(0,0,0,.22);
      padding:16px;
      min-height:100px;
      transition:transform .25s,box-shadow .25s,border-color .25s;
    }
    .card:hover{
      transform:translateY(-4px);
      box-shadow:0 20px 50px rgba(0,0,0,.35);
      border-color:rgba(255,255,255,.18);
    }
    .card small{
      display:flex;
      align-items:center;
      gap:6px;
      color:rgba(229,231,235,.70);
      font-weight:800;
      letter-spacing:.08em;
      text-transform:uppercase;
      font-size:11px;
      margin-bottom:10px;
    }
    .card small i{color:var(--accent2)}
    .card .big{
      font-size:15px;
      font-weight:900;
      line-height:1.4;
    }
    .sub{
      margin-top:8px;
      color:rgba(229,231,235,.72);
      font-size:12.5px;
    }

    .heroBody{
      position:relative;
      z-index:1;
      padding:24px 28px 30px;
    }

    /* Table of Contents */
    .toc{
      background:rgba(2,6,23,.3);
      border:1px solid rgba(255,255,255,.1);
      border-radius:var(--radius);
      padding:18px 20px;
      margin-bottom:24px;
    }
    .toc-title{
      font-size:14px;
      font-weight:900;
      margin-bottom:12px;
      display:flex;
      align-items:center;
      gap:8px;
    }
    .toc-title i{color:var(--accent2)}
    .toc-list{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      list-style:none;
    }
    .toc-list a{
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding:6px 12px;
      border-radius:999px;
      background:rgba(15,23,42,.5);
      border:1px solid rgba(255,255,255,.1);
      color:rgba(229,231,235,.85);
      text-decoration:none;
      font-size:12px;
      font-weight:700;
      transition:all .2s;
    }
    .toc-list a:hover{
      background:rgba(96,165,250,.2);
      border-color:rgba(96,165,250,.4);
      color:#fff;
    }
    .toc-list a.match{
      background:rgba(212,175,55,.15);
      border-color:rgba(212,175,55,.4);
      color:var(--gold);
    }

    /* Action Buttons */
    .actions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-bottom:20px;
    }
    .btn{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:10px 18px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.15);
      background:rgba(15,23,42,.5);
      color:var(--text);
      font-size:13px;
      font-weight:700;
      cursor:pointer;
      transition:all .2s;
    }
    .btn:hover{
      background:rgba(96,165,250,.2);
      border-color:rgba(96,165,250,.4);
    }
    .btn i{color:var(--accent2)}

    /* Section Titles */
    .sectionTitle{
      font-size:14px;
      letter-spacing:.12em;
      text-transform:uppercase;
      color:rgba(229,231,235,.85);
      font-weight:900;
      margin:24px 0 14px;
      display:flex;
      align-items:center;
      gap:10px;
    }
    .sectionTitle:before{
      content:"";
      width:12px;height:12px;
      border-radius:4px;
      background:linear-gradient(135deg,var(--accent2),var(--accent));
      box-shadow:0 0 0 4px rgba(96,165,250,.12);
    }
    .sectionTitle i{margin-left:auto;color:var(--muted2);font-size:12px}

    /* Info Cards Grid */
    .info-grid{
      display:grid;
      grid-template-columns:repeat(4,1fr);
      gap:12px;
      margin-bottom:24px;
    }
    .info-card{
      background:rgba(2,6,23,.28);
      border:1px solid rgba(255,255,255,.1);
      border-radius:var(--radius);
      padding:16px;
      transition:transform .2s,box-shadow .2s;
    }
    .info-card:hover{
      transform:translateY(-3px);
      box-shadow:0 12px 30px rgba(0,0,0,.25);
    }
    .info-card-icon{
      width:40px;height:40px;
      border-radius:10px;
      background:linear-gradient(135deg,rgba(96,165,250,.2),rgba(34,197,94,.15));
      display:flex;align-items:center;justify-content:center;
      margin-bottom:12px;
      font-size:18px;
      color:var(--accent2);
    }
    .info-card-title{
      font-size:11px;
      text-transform:uppercase;
      letter-spacing:.1em;
      color:rgba(229,231,235,.6);
      font-weight:800;
      margin-bottom:4px;
    }
    .info-card-value{
      font-size:16px;
      font-weight:900;
    }
    .info-card-note{
      font-size:11px;
      color:rgba(229,231,235,.6);
      margin-top:4px;
    }

    /* Flight Route Map */
    .flight-route{
      background:rgba(2,6,23,.3);
      border:1px solid rgba(255,255,255,.1);
      border-radius:var(--radius);
      padding:20px;
      margin-bottom:24px;
      overflow-x:auto;
    }
    .route-svg{
      width:100%;
      min-width:600px;
      height:120px;
    }
    .route-city{
      font-size:12px;
      font-weight:900;
      fill:var(--text);
    }
    .route-code{
      font-size:10px;
      fill:rgba(229,231,235,.6);
    }
    .route-line{
      stroke:var(--accent2);
      stroke-width:2;
      stroke-dasharray:8 4;
      fill:none;
    }
    .route-dot{
      fill:var(--accent2);
    }
    .route-plane{
      fill:var(--accent2);
    }

    /* Timeline */
    .timeline{
      position:relative;
      margin-top:16px;
      padding-left:20px;
    }
    .timeline:before{
      content:"";
      position:absolute;
      left:8px;top:8px;bottom:8px;
      width:2px;
      background:linear-gradient(to bottom,rgba(96,165,250,.55),rgba(34,197,94,.45),rgba(251,113,133,.35));
      border-radius:99px;
    }

    /* Timeline Item */
    .tItem{
      position:relative;
      margin:14px 0;
      border-radius:var(--radius);
      border:1px solid rgba(255,255,255,.10);
      background:rgba(2,6,23,.25);
      transition:transform .3s,box-shadow .3s,border-color .3s;
      opacity:0;
      transform:translateY(20px);
      animation:fadeInUp .5s ease forwards;
    }
    .tItem:nth-child(1){animation-delay:.1s}
    .tItem:nth-child(2){animation-delay:.15s}
    .tItem:nth-child(3){animation-delay:.2s}
    .tItem:nth-child(4){animation-delay:.25s}
    .tItem:nth-child(5){animation-delay:.3s}
    .tItem:nth-child(6){animation-delay:.35s}
    .tItem:nth-child(7){animation-delay:.4s}
    .tItem:nth-child(8){animation-delay:.45s}

    @keyframes fadeInUp{
      to{opacity:1;transform:translateY(0)}
    }

    .tItem:hover{
      transform:translateY(-3px);
      box-shadow:0 16px 40px rgba(0,0,0,.3);
      border-color:rgba(255,255,255,.18);
    }
    .tItem:before{
      content:"";
      position:absolute;
      left:-20px;top:20px;
      width:14px;height:14px;
      border-radius:999px;
      background:var(--accent2);
      box-shadow:0 0 0 5px rgba(96,165,250,.16);
      border:2px solid rgba(255,255,255,.2);
      z-index:1;
    }

    /* Match Day Special Styling */
    .tItem.match-day{
      border-color:rgba(212,175,55,.4);
      background:linear-gradient(135deg,rgba(212,175,55,.08),rgba(2,6,23,.25));
      box-shadow:0 0 40px rgba(212,175,55,.15);
    }
    .tItem.match-day:before{
      background:var(--gold);
      box-shadow:0 0 0 5px var(--gold-glow),0 0 20px var(--gold);
    }
    .tItem.match-day:hover{
      box-shadow:0 0 50px rgba(212,175,55,.25),0 16px 40px rgba(0,0,0,.3);
    }

    /* Collapsible Details */
    .tItem details{
      padding:0;
    }
    .tItem summary{
      padding:16px 18px;
      cursor:pointer;
      list-style:none;
      user-select:none;
    }
    .tItem summary::-webkit-details-marker{display:none}
    .tItem summary::marker{display:none}
    .tItem details[open] summary{
      border-bottom:1px solid rgba(255,255,255,.08);
    }
    .tItem .tBody{
      padding:16px 18px;
      color:rgba(229,231,235,.88);
      font-size:14px;
    }

    .tHead{
      display:flex;
      justify-content:space-between;
      gap:12px;
      align-items:flex-start;
      flex-wrap:wrap;
    }
    .tDate{
      font-weight:900;
      letter-spacing:.3px;
      font-size:15px;
      display:flex;
      align-items:center;
      gap:10px;
    }
    .tDate i{
      color:var(--accent2);
      font-size:14px;
    }
    .match-day .tDate i{color:var(--gold)}

    .expand-icon{
      margin-left:auto;
      color:rgba(229,231,235,.5);
      transition:transform .3s;
    }
    details[open] .expand-icon{transform:rotate(180deg)}

    .tags{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      align-items:center;
    }
    .tag{
      font-family:var(--mono);
      font-size:11px;
      padding:5px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(15,23,42,.4);
      color:rgba(229,231,235,.90);
      white-space:nowrap;
      display:inline-flex;
      align-items:center;
      gap:5px;
    }
    .tag i{font-size:10px}
    .tag.ok{border-color:rgba(34,197,94,.35);color:rgba(187,247,208,.95)}
    .tag.warn{border-color:rgba(251,191,36,.35);color:rgba(253,230,138,.96)}
    .tag.flex{border-color:rgba(96,165,250,.38);color:rgba(191,219,254,.96)}
    .tag.gold{border-color:rgba(212,175,55,.5);color:var(--gold);background:rgba(212,175,55,.1)}

    /* Day Image */
    .day-image{
      width:100%;
      height:140px;
      object-fit:cover;
      border-radius:calc(var(--radius) - 4px) calc(var(--radius) - 4px) 0 0;
      opacity:.85;
    }

    .tBody ul{
      margin:10px 0 0 20px;
      padding:0;
      list-style:none;
    }
    .tBody li{
      margin:8px 0;
      position:relative;
      padding-left:20px;
    }
    .tBody li:before{
      content:"";
      position:absolute;
      left:0;top:10px;
      width:6px;height:6px;
      border-radius:50%;
      background:var(--accent2);
    }
    .match-day .tBody li:before{background:var(--gold)}

    /* Time Display */
    .time-display{
      display:inline-flex;
      align-items:center;
      gap:8px;
      background:rgba(15,23,42,.4);
      padding:4px 10px;
      border-radius:6px;
      font-family:var(--mono);
      font-size:13px;
      margin-right:8px;
    }
    .time-display .local{color:var(--accent2);font-weight:700}
    .time-display .jst{color:rgba(229,231,235,.6);font-size:11px}

    .callout{
      border-radius:var(--radius);
      border:1px dashed rgba(255,255,255,.18);
      background:rgba(15,23,42,.35);
      padding:16px;
      margin-top:16px;
    }
    .callout b{color:#fff}

    .hr{
      height:1px;
      background:rgba(255,255,255,.10);
      margin:28px 0;
    }

    /* Weather Section */
    .weather-grid{
      display:grid;
      grid-template-columns:repeat(2,1fr);
      gap:12px;
      margin-bottom:20px;
    }
    .weather-card{
      background:rgba(2,6,23,.28);
      border:1px solid rgba(255,255,255,.1);
      border-radius:var(--radius);
      padding:16px;
    }
    .weather-city{
      font-size:14px;
      font-weight:900;
      margin-bottom:12px;
      display:flex;
      align-items:center;
      gap:8px;
    }
    .weather-city i{color:var(--accent2)}
    .weather-details{
      display:flex;
      gap:20px;
    }
    .weather-temp{
      text-align:center;
    }
    .weather-temp .value{
      font-size:24px;
      font-weight:900;
      color:var(--accent2);
    }
    .weather-temp .label{
      font-size:10px;
      color:rgba(229,231,235,.6);
      text-transform:uppercase;
    }
    .weather-info{
      font-size:12px;
      color:rgba(229,231,235,.7);
      line-height:1.6;
    }

    /* Transportation Section */
    .transport-list{
      background:rgba(2,6,23,.28);
      border:1px solid rgba(255,255,255,.1);
      border-radius:var(--radius);
      padding:16px;
      margin-bottom:20px;
    }
    .transport-item{
      display:flex;
      align-items:flex-start;
      gap:14px;
      padding:12px 0;
      border-bottom:1px solid rgba(255,255,255,.08);
    }
    .transport-item:last-child{border-bottom:none}
    .transport-icon{
      width:36px;height:36px;
      border-radius:8px;
      background:linear-gradient(135deg,rgba(96,165,250,.2),rgba(34,197,94,.15));
      display:flex;align-items:center;justify-content:center;
      color:var(--accent2);
      flex-shrink:0;
    }
    .transport-info h4{
      font-size:14px;
      font-weight:800;
      margin-bottom:4px;
    }
    .transport-info p{
      font-size:12px;
      color:rgba(229,231,235,.7);
      margin:0;
    }
    .transport-info .price{
      display:inline-block;
      margin-top:6px;
      padding:3px 8px;
      background:rgba(34,197,94,.15);
      border-radius:4px;
      font-size:11px;
      color:rgba(187,247,208,.95);
      font-weight:700;
    }

    /* Checklist Section */
    .checklist{
      background:rgba(2,6,23,.28);
      border:1px solid rgba(255,255,255,.1);
      border-radius:var(--radius);
      padding:18px;
      margin-bottom:20px;
    }
    .checklist-grid{
      display:grid;
      grid-template-columns:repeat(2,1fr);
      gap:8px;
    }
    .checklist-item{
      display:flex;
      align-items:center;
      gap:10px;
      padding:8px 12px;
      border-radius:8px;
      background:rgba(15,23,42,.3);
      transition:background .2s;
      cursor:pointer;
    }
    .checklist-item:hover{background:rgba(15,23,42,.5)}
    .checklist-item input{
      width:18px;height:18px;
      accent-color:var(--accent);
      cursor:pointer;
    }
    .checklist-item label{
      font-size:13px;
      cursor:pointer;
      flex:1;
      display:flex;
      align-items:center;
      gap:8px;
    }
    .checklist-item label i{
      color:var(--accent2);
      width:16px;
    }
    .checklist-item.checked label{
      color:rgba(229,231,235,.5);
      text-decoration:line-through;
    }
    .checklist-actions{
      margin-top:12px;
      display:flex;
      gap:10px;
    }
    .checklist-btn{
      padding:6px 12px;
      border-radius:6px;
      border:1px solid rgba(255,255,255,.1);
      background:rgba(15,23,42,.4);
      color:rgba(229,231,235,.8);
      font-size:11px;
      cursor:pointer;
      transition:all .2s;
    }
    .checklist-btn:hover{
      background:rgba(96,165,250,.2);
      border-color:rgba(96,165,250,.4);
    }

    /* Lodging Summary */
    .lodging{
      display:grid;
      grid-template-columns:1.15fr 1fr;
      gap:14px;
    }
    .table{
      width:100%;
      border-collapse:collapse;
      overflow:hidden;
      border-radius:var(--radius);
      border:1px solid rgba(255,255,255,.10);
      background:rgba(2,6,23,.22);
    }
    .table th,.table td{
      padding:12px 14px;
      border-bottom:1px solid rgba(255,255,255,.08);
      font-size:13px;
      vertical-align:top;
    }
    .table th{
      text-align:left;
      color:rgba(229,231,235,.82);
      font-weight:900;
      letter-spacing:.04em;
      background:rgba(15,23,42,.4);
    }
    .table tr:last-child td{border-bottom:none}
    .table td i{color:var(--accent2);margin-right:6px}

    /* Back to Top */
    .back-to-top{
      position:fixed;
      bottom:24px;
      right:24px;
      width:48px;height:48px;
      border-radius:50%;
      background:var(--card);
      border:1px solid rgba(255,255,255,.15);
      color:var(--accent2);
      font-size:18px;
      cursor:pointer;
      opacity:0;
      visibility:hidden;
      transition:all .3s;
      box-shadow:0 8px 24px rgba(0,0,0,.3);
      z-index:100;
    }
    .back-to-top.visible{
      opacity:1;
      visibility:visible;
    }
    .back-to-top:hover{
      transform:translateY(-3px);
      box-shadow:0 12px 30px rgba(0,0,0,.4);
    }

    /* Footer */
    footer{
      margin-top:20px;
      padding-top:16px;
      border-top:1px solid rgba(255,255,255,.08);
      color:rgba(229,231,235,.55);
      font-size:12px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      flex-wrap:wrap;
      gap:10px;
    }
    footer a{color:var(--accent2);text-decoration:none}

    /* Responsive */
    @media (max-width:860px){
      .grid{grid-template-columns:repeat(2,minmax(0,1fr))}
      .info-grid{grid-template-columns:repeat(2,1fr)}
      .lodging{grid-template-columns:1fr}
      .weather-grid{grid-template-columns:1fr}
      .checklist-grid{grid-template-columns:1fr}
    }
    @media (max-width:520px){
      .grid{grid-template-columns:1fr}
      .info-grid{grid-template-columns:1fr}
      .heroTop{padding:22px 16px 18px}
      .heroBody{padding:18px 16px 24px}
      .title{font-size:20px}
      .countdown-value{font-size:24px}
      .toc-list{flex-direction:column}
      .toc-list a{width:100%;justify-content:center}
    }

    /* Print Styles */
    @media print{
      body{background:#fff;color:#111827}
      .wrap{max-width:100%;margin:0;padding:0}
      .hero{box-shadow:none;border:1px solid #e5e7eb;background:#fff}
      .hero-bg{display:none}
      .heroTop{background:#f8fafc;border-bottom:1px solid #e5e7eb}
      .pill{background:#fff;border:1px solid #e5e7eb}
      .card,.tItem,.callout,.table,.info-card,.weather-card,.transport-list,.checklist{
        background:#fff;border:1px solid #e5e7eb;box-shadow:none
      }
      .timeline:before{background:#cbd5e1}
      .tItem:before{background:#2563eb;box-shadow:none;border:1px solid #e5e7eb}
      .tag{background:#fff;border:1px solid #e5e7eb;color:#111827}
      .back-to-top,.actions{display:none}
      .tItem{opacity:1;transform:none;animation:none}
      .tItem details{display:block}
      .tItem summary{pointer-events:none}
      .tBody{display:block!important}
      footer{color:#6b7280}
    }
  </style>
</head>

<body>
  <div class="wrap">
    <section class="hero" role="document" aria-label="旅のしおり">
      <div class="hero-bg" aria-hidden="true"></div>

      <header class="heroTop">
        <!-- Countdown Timer -->
        <div class="countdown-container">
          <div class="countdown-label">
            <i class="fa-solid fa-clock"></i>
            <span>出発まであと</span>
            <span id="countdown-status"></span>
          </div>
          <div class="countdown" id="countdown" aria-live="polite">
            <div class="countdown-item">
              <div class="countdown-value" id="days">--</div>
              <div class="countdown-unit">Days</div>
            </div>
            <div class="countdown-item">
              <div class="countdown-value" id="hours">--</div>
              <div class="countdown-unit">Hours</div>
            </div>
            <div class="countdown-item">
              <div class="countdown-value" id="minutes">--</div>
              <div class="countdown-unit">Minutes</div>
            </div>
            <div class="countdown-item">
              <div class="countdown-value" id="seconds">--</div>
              <div class="countdown-unit">Seconds</div>
            </div>
          </div>
        </div>

        <div class="kicker">
          <span class="dot ok" aria-hidden="true"></span>
          BUSINESS NOTICE / ITINERARY
          <span class="pill"><span class="dot warn" aria-hidden="true"></span>Cancel OK</span>
          <span class="pill"><span class="dot ok" aria-hidden="true"></span>Confirmed</span>
        </div>

        <h1 class="title">
          <i class="fa-solid fa-plane-departure"></i>
          London Travel Itinerary 2025
        </h1>

        <div class="meta">
          <span class="pill"><span class="dot" aria-hidden="true"></span>To: Father & Mother</span>
          <span class="pill"><span class="dot" aria-hidden="true"></span>From: Kyosuke Morishita</span>
        </div>

        <p class="note">
          <i class="fa-solid fa-ticket"></i>
          Award ticket (Economy) has been <b>secured</b>.<br>
          <b>Cancellation is still possible</b> at this point. Due to award availability, <b>this was the only schedule available</b>.<br>
          <i class="fa-solid fa-clock"></i> Times shown in <b>local time</b>, with <b>JST</b> in parentheses.
        </p>

        <!-- Summary Cards -->
        <div class="grid" aria-label="Trip Summary">
          <article class="card">
            <small><i class="fa-solid fa-plane-departure"></i> Departure</small>
            <div class="big">3/30 (Mon) 09:30<br>Kansai (JST)</div>
            <div class="sub muted">KIX → MUC → LHR</div>
          </article>
          <article class="card">
            <small><i class="fa-solid fa-plane-arrival"></i> Arrival</small>
            <div class="big">3/30 (Mon) 19:40<br>London (Local)</div>
            <div class="sub muted">(3/31 03:40 JST)</div>
          </article>
          <article class="card" style="border-color:rgba(212,175,55,.4);background:linear-gradient(135deg,rgba(212,175,55,.1),rgba(2,6,23,.28))">
            <small><i class="fa-solid fa-futbol" style="color:var(--gold)"></i> Main Event</small>
            <div class="big" style="color:var(--gold)">Japan vs England<br>@ Wembley</div>
            <div class="sub muted">3/31 (Tue) Local</div>
          </article>
          <article class="card">
            <small><i class="fa-solid fa-house"></i> Return</small>
            <div class="big">4/6 (Mon) 22:20<br>Kansai (JST)</div>
            <div class="sub muted">Final arrival</div>
          </article>
        </div>
      </header>

      <main class="heroBody">
        <!-- Action Buttons -->
        <div class="actions">
          <button class="btn" onclick="window.print()" aria-label="Print itinerary">
            <i class="fa-solid fa-print"></i> Print
          </button>
          <button class="btn" onclick="toggleAllDetails(true)" aria-label="Expand all sections">
            <i class="fa-solid fa-expand"></i> Expand All
          </button>
          <button class="btn" onclick="toggleAllDetails(false)" aria-label="Collapse all sections">
            <i class="fa-solid fa-compress"></i> Collapse All
          </button>
        </div>

        <!-- Table of Contents -->
        <nav class="toc" aria-label="Table of Contents">
          <div class="toc-title"><i class="fa-solid fa-list"></i> Quick Navigation</div>
          <ul class="toc-list">
            <li><a href="#day-330"><i class="fa-solid fa-plane"></i> 3/30 Travel</a></li>
            <li><a href="#day-331" class="match"><i class="fa-solid fa-futbol"></i> 3/31 Match Day</a></li>
            <li><a href="#day-401"><i class="fa-solid fa-compass"></i> 4/1 Free</a></li>
            <li><a href="#day-402"><i class="fa-solid fa-compass"></i> 4/2 Free</a></li>
            <li><a href="#day-403"><i class="fa-solid fa-moon"></i> 4/3 Final UK</a></li>
            <li><a href="#day-404"><i class="fa-solid fa-plane"></i> 4/4 To Munich</a></li>
            <li><a href="#day-405"><i class="fa-solid fa-plane"></i> 4/5 To Beijing</a></li>
            <li><a href="#day-406"><i class="fa-solid fa-home"></i> 4/6 Return</a></li>
            <li><a href="#info"><i class="fa-solid fa-info-circle"></i> Info</a></li>
            <li><a href="#checklist"><i class="fa-solid fa-check-square"></i> Checklist</a></li>
          </ul>
        </nav>

        <!-- Basic Info Cards -->
        <section aria-labelledby="info-title" id="info">
          <h2 class="sectionTitle" id="info-title">
            <i class="fa-solid fa-info-circle"></i> Essential Information
          </h2>
          <div class="info-grid">
            <article class="info-card">
              <div class="info-card-icon"><i class="fa-solid fa-clock"></i></div>
              <div class="info-card-title">Time Difference</div>
              <div class="info-card-value">UK: -9h / DE: -8h</div>
              <div class="info-card-note">From JST (Summer Time)</div>
            </article>
            <article class="info-card">
              <div class="info-card-icon"><i class="fa-solid fa-coins"></i></div>
              <div class="info-card-title">Currency</div>
              <div class="info-card-value">GBP / EUR</div>
              <div class="info-card-note">UK: Pound / DE: Euro</div>
            </article>
            <article class="info-card">
              <div class="info-card-icon"><i class="fa-solid fa-plug"></i></div>
              <div class="info-card-title">Voltage</div>
              <div class="info-card-value">230V / Type G/C</div>
              <div class="info-card-note">Adapter required</div>
            </article>
            <article class="info-card">
              <div class="info-card-icon"><i class="fa-solid fa-phone"></i></div>
              <div class="info-card-title">Emergency</div>
              <div class="info-card-value">UK: 999 / DE: 112</div>
              <div class="info-card-note">Police/Fire/Ambulance</div>
            </article>
          </div>
        </section>

        <!-- Flight Route Map -->
        <section aria-labelledby="route-title">
          <h2 class="sectionTitle" id="route-title">
            <i class="fa-solid fa-route"></i> Flight Route
          </h2>
          <div class="flight-route">
            <svg class="route-svg" viewBox="0 0 800 120" aria-label="Flight route: Kansai to Munich to London to Munich to Beijing to Tokyo to Kansai">
              <!-- Outbound Route -->
              <path class="route-line" d="M60,40 Q200,10 320,40 Q400,60 480,40" />
              <!-- Return Route -->
              <path class="route-line" d="M480,80 Q400,100 320,80 Q200,50 60,80" style="stroke:var(--accent);opacity:.6" />

              <!-- Cities -->
              <g transform="translate(40,40)">
                <circle class="route-dot" r="8" />
                <text class="route-city" x="0" y="-18" text-anchor="middle">Osaka</text>
                <text class="route-code" x="0" y="28" text-anchor="middle">KIX</text>
              </g>
              <g transform="translate(320,40)">
                <circle class="route-dot" r="8" />
                <text class="route-city" x="0" y="-18" text-anchor="middle">Munich</text>
                <text class="route-code" x="0" y="28" text-anchor="middle">MUC</text>
              </g>
              <g transform="translate(480,40)">
                <circle class="route-dot" r="8" style="fill:var(--gold)" />
                <text class="route-city" x="0" y="-18" text-anchor="middle" style="fill:var(--gold)">London</text>
                <text class="route-code" x="0" y="28" text-anchor="middle">LHR</text>
              </g>
              <g transform="translate(600,80)">
                <circle class="route-dot" r="6" style="fill:var(--accent)" />
                <text class="route-city" x="0" y="-14" text-anchor="middle" style="font-size:11px">Beijing</text>
                <text class="route-code" x="0" y="22" text-anchor="middle">PEK</text>
              </g>
              <g transform="translate(720,80)">
                <circle class="route-dot" r="6" style="fill:var(--accent)" />
                <text class="route-city" x="0" y="-14" text-anchor="middle" style="font-size:11px">Tokyo</text>
                <text class="route-code" x="0" y="22" text-anchor="middle">HND</text>
              </g>

              <!-- Plane icons -->
              <text x="180" y="25" class="route-plane" style="font-size:14px">✈</text>
              <text x="400" y="50" class="route-plane" style="font-size:14px">✈</text>
              <text x="540" y="75" style="font-size:12px;fill:var(--accent)">✈</text>
              <text x="660" y="85" style="font-size:12px;fill:var(--accent)">✈</text>
            </svg>
          </div>
        </section>

        <!-- Timeline Schedule -->
        <section aria-labelledby="schedule-title">
          <h2 class="sectionTitle" id="schedule-title">
            <i class="fa-solid fa-calendar-days"></i> Daily Schedule
          </h2>

          <div class="timeline">
            <!-- 3/30 -->
            <article class="tItem" id="day-330">
              <details open>
                <summary>
                  <header class="tHead">
                    <div class="tDate">
                      <i class="fa-solid fa-plane"></i>
                      3/30 (Mon) - Travel Day (Japan → Germany → UK)
                    </div>
                    <i class="fa-solid fa-chevron-down expand-icon" aria-hidden="true"></i>
                  </header>
                  <div class="tags">
                    <span class="tag ok"><i class="fa-solid fa-plane"></i> FLIGHT</span>
                    <span class="tag">KIX</span>
                    <span class="tag">MUC</span>
                    <span class="tag">LHR</span>
                    <span class="tag warn"><i class="fa-solid fa-bed"></i> London (Night 1)</span>
                  </div>
                </summary>
                <div class="tBody">
                  <ul>
                    <li>
                      <span class="time-display">
                        <span class="local">09:30</span>
                        <span class="jst">JST</span>
                      </span>
                      <b>Depart Kansai (KIX)</b>
                    </li>
                    <li>
                      <span class="time-display">
                        <span class="local">16:40</span>
                        <span class="jst">= 23:40 JST</span>
                      </span>
                      <b>Arrive Munich (MUC)</b>
                    </li>
                    <li>
                      <span class="time-display">
                        <span class="local">18:35</span>
                        <span class="jst">= +1 01:35 JST</span>
                      </span>
                      <b>Depart Munich (MUC)</b>
                    </li>
                    <li>
                      <span class="time-display">
                        <span class="local">19:40</span>
                        <span class="jst">= +1 03:40 JST</span>
                      </span>
                      <b>Arrive London Heathrow (LHR)</b>
                    </li>
                  </ul>
                </div>
              </details>
            </article>

            <!-- 3/31 - Match Day -->
            <article class="tItem match-day" id="day-331">
              <details open>
                <summary>
                  <header class="tHead">
                    <div class="tDate">
                      <i class="fa-solid fa-futbol"></i>
                      3/31 (Tue) - London (MATCH DAY)
                    </div>
                    <i class="fa-solid fa-chevron-down expand-icon" aria-hidden="true"></i>
                  </header>
                  <div class="tags">
                    <span class="tag gold"><i class="fa-solid fa-star"></i> MATCH DAY</span>
                    <span class="tag ok"><i class="fa-solid fa-location-dot"></i> London</span>
                    <span class="tag gold"><i class="fa-solid fa-futbol"></i> Wembley</span>
                    <span class="tag warn"><i class="fa-solid fa-bed"></i> London (Night 2)</span>
                  </div>
                </summary>
                <div class="tBody">
                  <ul>
                    <li><b>All day: London stay</b></li>
                    <li>
                      <b style="color:var(--gold)"><i class="fa-solid fa-futbol"></i> Japan vs England @ Wembley Stadium</b><br>
                      <span class="muted">* Match time TBC. Will adjust to official schedule.</span>
                    </li>
                  </ul>
                  <div class="callout" style="border-color:rgba(212,175,55,.3);background:rgba(212,175,55,.08)">
                    <i class="fa-solid fa-star" style="color:var(--gold)"></i>
                    <b style="color:var(--gold)">Main Event!</b> International friendly at the iconic Wembley Stadium.
                    Capacity: 90,000. Located in northwest London.
                  </div>
                </div>
              </details>
            </article>

            <!-- 4/1 -->
            <article class="tItem" id="day-401">
              <details>
                <summary>
                  <header class="tHead">
                    <div class="tDate">
                      <i class="fa-solid fa-compass"></i>
                      4/1 (Wed) - UK Stay (Flexible)
                    </div>
                    <i class="fa-solid fa-chevron-down expand-icon" aria-hidden="true"></i>
                  </header>
                  <div class="tags">
                    <span class="tag flex"><i class="fa-solid fa-shuffle"></i> FLEX</span>
                    <span class="tag">UK</span>
                    <span class="tag">Liverpool</span>
                    <span class="tag warn"><i class="fa-solid fa-bed"></i> London or Liverpool</span>
                  </div>
                </summary>
                <div class="tBody">
                  <ul>
                    <li>Option: London sightseeing / day trip nearby</li>
                    <li>Option: <b>Liverpool visit</b> (day trip or <b>overnight stay</b> possible)</li>
                    <li class="muted">* UK stay is flexible based on condition, weather, and travel load.</li>
                  </ul>
                </div>
              </details>
            </article>

            <!-- 4/2 -->
            <article class="tItem" id="day-402">
              <details>
                <summary>
                  <header class="tHead">
                    <div class="tDate">
                      <i class="fa-solid fa-compass"></i>
                      4/2 (Thu) - UK Stay (Flexible)
                    </div>
                    <i class="fa-solid fa-chevron-down expand-icon" aria-hidden="true"></i>
                  </header>
                  <div class="tags">
                    <span class="tag flex"><i class="fa-solid fa-shuffle"></i> FLEX</span>
                    <span class="tag">Liverpool</span>
                    <span class="tag">Manchester</span>
                    <span class="tag warn"><i class="fa-solid fa-bed"></i> London</span>
                  </div>
                </summary>
                <div class="tBody">
                  <ul>
                    <li>Option: Continue Liverpool / Manchester area / London city</li>
                    <li class="muted">* Fully flexible day - adjust as needed.</li>
                  </ul>
                </div>
              </details>
            </article>

            <!-- 4/3 -->
            <article class="tItem" id="day-403">
              <details>
                <summary>
                  <header class="tHead">
                    <div class="tDate">
                      <i class="fa-solid fa-moon"></i>
                      4/3 (Fri) - Final UK Day
                    </div>
                    <i class="fa-solid fa-chevron-down expand-icon" aria-hidden="true"></i>
                  </header>
                  <div class="tags">
                    <span class="tag warn"><i class="fa-solid fa-clock"></i> EARLY FLIGHT</span>
                    <span class="tag">LHR</span>
                    <span class="tag warn"><i class="fa-solid fa-bed"></i> London (Night 5)</span>
                  </div>
                </summary>
                <div class="tBody">
                  <ul>
                    <li>Early flight next morning - recommend minimal travel in evening</li>
                    <li>Consider staying near Heathrow if needed</li>
                  </ul>
                </div>
              </details>
            </article>

            <!-- 4/4 -->
            <article class="tItem" id="day-404">
              <details>
                <summary>
                  <header class="tHead">
                    <div class="tDate">
                      <i class="fa-solid fa-plane"></i>
                      4/4 (Sat) - Travel (UK → Germany)
                    </div>
                    <i class="fa-solid fa-chevron-down expand-icon" aria-hidden="true"></i>
                  </header>
                  <div class="tags">
                    <span class="tag ok"><i class="fa-solid fa-plane"></i> FLIGHT</span>
                    <span class="tag">LHR</span>
                    <span class="tag">MUC</span>
                    <span class="tag warn"><i class="fa-solid fa-bed"></i> Munich (1 night)</span>
                  </div>
                </summary>
                <div class="tBody">
                  <ul>
                    <li>
                      <span class="time-display">
                        <span class="local">06:55</span>
                        <span class="jst">= 14:55 JST</span>
                      </span>
                      <b>Depart London Heathrow (LHR)</b>
                    </li>
                    <li>
                      <span class="time-display">
                        <span class="local">09:50</span>
                        <span class="jst">= 16:50 JST</span>
                      </span>
                      <b>Arrive Munich (MUC)</b>
                    </li>
                  </ul>
                </div>
              </details>
            </article>

            <!-- 4/5 -->
            <article class="tItem" id="day-405">
              <details>
                <summary>
                  <header class="tHead">
                    <div class="tDate">
                      <i class="fa-solid fa-plane"></i>
                      4/5 (Sun) - Travel (Germany → China)
                    </div>
                    <i class="fa-solid fa-chevron-down expand-icon" aria-hidden="true"></i>
                  </header>
                  <div class="tags">
                    <span class="tag ok"><i class="fa-solid fa-plane"></i> FLIGHT</span>
                    <span class="tag">MUC</span>
                    <span class="tag">PEK</span>
                    <span class="tag" style="border-color:rgba(251,113,133,.35);color:rgba(251,113,133,.95)"><i class="fa-solid fa-plane"></i> In-flight</span>
                  </div>
                </summary>
                <div class="tBody">
                  <ul>
                    <li>Daytime: Munich stay (time before connection)</li>
                    <li>
                      <span class="time-display">
                        <span class="local">19:45</span>
                        <span class="jst">= 4/6 02:45 JST</span>
                      </span>
                      <b>Depart Munich (MUC)</b>
                    </li>
                  </ul>
                </div>
              </details>
            </article>

            <!-- 4/6 -->
            <article class="tItem" id="day-406">
              <details>
                <summary>
                  <header class="tHead">
                    <div class="tDate">
                      <i class="fa-solid fa-home"></i>
                      4/6 (Mon) - Return (China → Japan → Kansai)
                    </div>
                    <i class="fa-solid fa-chevron-down expand-icon" aria-hidden="true"></i>
                  </header>
                  <div class="tags">
                    <span class="tag ok"><i class="fa-solid fa-flag-checkered"></i> RETURN</span>
                    <span class="tag">PEK</span>
                    <span class="tag">HND</span>
                    <span class="tag ok">KIX</span>
                    <span class="tag ok"><i class="fa-solid fa-clock"></i> 22:20 JST</span>
                  </div>
                </summary>
                <div class="tBody">
                  <ul>
                    <li>
                      <span class="time-display">
                        <span class="local">11:45</span>
                        <span class="jst">= 12:45 JST</span>
                      </span>
                      <b>Arrive Beijing (PEK)</b>
                    </li>
                    <li>
                      <span class="time-display">
                        <span class="local">15:10</span>
                        <span class="jst">= 16:10 JST</span>
                      </span>
                      <b>Depart Beijing (PEK)</b>
                    </li>
                    <li>
                      <span class="time-display">
                        <span class="local">19:35</span>
                        <span class="jst">JST</span>
                      </span>
                      <b>Arrive Tokyo Haneda (HND)</b>
                    </li>
                    <li>
                      <span class="time-display">
                        <span class="local">21:00</span>
                        <span class="jst">JST</span>
                      </span>
                      <b>Depart Tokyo Haneda (HND)</b>
                    </li>
                    <li>
                      <span class="time-display">
                        <span class="local">22:20</span>
                        <span class="jst">JST</span>
                      </span>
                      <b style="color:var(--accent)">Arrive Kansai (KIX) - Final</b>
                    </li>
                  </ul>
                </div>
              </details>
            </article>
          </div>
        </section>

        <div class="hr"></div>

        <!-- Weather Section -->
        <section aria-labelledby="weather-title">
          <h2 class="sectionTitle" id="weather-title">
            <i class="fa-solid fa-cloud-sun"></i> Weather (Late March - Early April)
          </h2>
          <div class="weather-grid">
            <article class="weather-card">
              <div class="weather-city">
                <i class="fa-solid fa-location-dot"></i> London, UK
              </div>
              <div class="weather-details">
                <div class="weather-temp">
                  <div class="value">8-14</div>
                  <div class="label">Avg °C</div>
                </div>
                <div class="weather-info">
                  <p><i class="fa-solid fa-cloud-rain"></i> Frequent rain showers</p>
                  <p><i class="fa-solid fa-wind"></i> Cool and breezy</p>
                  <p><i class="fa-solid fa-umbrella"></i> Umbrella recommended</p>
                </div>
              </div>
            </article>
            <article class="weather-card">
              <div class="weather-city">
                <i class="fa-solid fa-location-dot"></i> Munich, Germany
              </div>
              <div class="weather-details">
                <div class="weather-temp">
                  <div class="value">4-13</div>
                  <div class="label">Avg °C</div>
                </div>
                <div class="weather-info">
                  <p><i class="fa-solid fa-cloud-sun"></i> Variable conditions</p>
                  <p><i class="fa-solid fa-temperature-low"></i> Cooler mornings</p>
                  <p><i class="fa-solid fa-shirt"></i> Layers recommended</p>
                </div>
              </div>
            </article>
          </div>
        </section>

        <!-- Transportation Section -->
        <section aria-labelledby="transport-title">
          <h2 class="sectionTitle" id="transport-title">
            <i class="fa-solid fa-train"></i> Heathrow → Central London
          </h2>
          <div class="transport-list">
            <div class="transport-item">
              <div class="transport-icon"><i class="fa-solid fa-train"></i></div>
              <div class="transport-info">
                <h4>Heathrow Express</h4>
                <p>Fastest option. Non-stop to Paddington Station. 15 minutes.</p>
                <span class="price">£25-37</span>
              </div>
            </div>
            <div class="transport-item">
              <div class="transport-icon"><i class="fa-solid fa-subway"></i></div>
              <div class="transport-info">
                <h4>Elizabeth Line (TfL)</h4>
                <p>Direct to Central London (Paddington, Liverpool St). 30-45 min.</p>
                <span class="price">£12.80 (Oyster)</span>
              </div>
            </div>
            <div class="transport-item">
              <div class="transport-icon"><i class="fa-solid fa-subway"></i></div>
              <div class="transport-info">
                <h4>Piccadilly Line (Underground)</h4>
                <p>Budget option. Direct to central but slower. 50-60 min.</p>
                <span class="price">£6.70 (Oyster)</span>
              </div>
            </div>
            <div class="transport-item">
              <div class="transport-icon"><i class="fa-solid fa-taxi"></i></div>
              <div class="transport-info">
                <h4>Taxi / Uber</h4>
                <p>Door-to-door service. Traffic dependent. 45-90 min.</p>
                <span class="price">£50-100+</span>
              </div>
            </div>
          </div>
        </section>

        <!-- Packing Checklist -->
        <section aria-labelledby="checklist-title" id="checklist">
          <h2 class="sectionTitle" id="checklist-title">
            <i class="fa-solid fa-check-square"></i> Packing Checklist
          </h2>
          <div class="checklist">
            <div class="checklist-grid" id="checklist-items">
              <!-- Items will be generated by JS -->
            </div>
            <div class="checklist-actions">
              <button class="checklist-btn" onclick="checkAll()">
                <i class="fa-solid fa-check-double"></i> Check All
              </button>
              <button class="checklist-btn" onclick="uncheckAll()">
                <i class="fa-solid fa-rotate-left"></i> Reset
              </button>
            </div>
          </div>
        </section>

        <div class="hr"></div>

        <!-- Lodging Summary -->
        <section aria-labelledby="lodging-title">
          <h2 class="sectionTitle" id="lodging-title">
            <i class="fa-solid fa-hotel"></i> Accommodation Summary
          </h2>
          <div class="lodging">
            <div class="callout">
              <i class="fa-solid fa-lightbulb" style="color:var(--warn)"></i>
              <b>UK Stay Flexibility</b><br>
              During UK stay (<span class="mono">3/30 night - 4/3 night</span>), London is the base but
              <b>Liverpool day trip / 1 night stay</b> is possible.<br>
              Schedule can be <b>flexibly adjusted</b> based on condition, weather, and travel load.
            </div>

            <table class="table" aria-label="Accommodation summary">
              <thead>
                <tr>
                  <th>Location</th>
                  <th>Nights (Est.)</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><i class="fa-solid fa-city"></i> <b>London</b></td>
                  <td>3/30, 3/31, 4/1, 4/2, 4/3 <span class="muted">(~5 nights)</span></td>
                </tr>
                <tr>
                  <td><i class="fa-solid fa-futbol"></i> <b>Liverpool</b></td>
                  <td>4/1 or 4/2 possible <b>1 night</b> <span class="muted">(flex)</span></td>
                </tr>
                <tr>
                  <td><i class="fa-solid fa-beer-mug-empty"></i> <b>Munich</b></td>
                  <td>4/4 <span class="muted">(1 night)</span></td>
                </tr>
                <tr>
                  <td><i class="fa-solid fa-plane"></i> <b>In-flight</b></td>
                  <td>4/5 night - 4/6 (MUC → PEK)</td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <footer>
          <div>
            <i class="fa-solid fa-user"></i> Kyosuke Morishita | Updated as needed
          </div>
          <div>
            <span id="current-time-jst"></span> JST |
            <span id="current-time-uk"></span> UK
          </div>
        </footer>
      </main>
    </section>
  </div>

  <!-- Back to Top Button -->
  <button class="back-to-top" id="backToTop" aria-label="Back to top" onclick="scrollToTop()">
    <i class="fa-solid fa-arrow-up"></i>
  </button>

  <script>
    // Departure date: March 30, 2025, 09:30 JST
    const departureDate = new Date('2025-03-30T09:30:00+09:00');

    // Countdown Timer
    function updateCountdown() {
      const now = new Date();
      const diff = departureDate - now;

      const statusEl = document.getElementById('countdown-status');

      if (diff <= 0) {
        document.getElementById('days').textContent = '0';
        document.getElementById('hours').textContent = '0';
        document.getElementById('minutes').textContent = '0';
        document.getElementById('seconds').textContent = '0';
        statusEl.textContent = '(Trip in progress or completed)';
        return;
      }

      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((diff % (1000 * 60)) / 1000);

      document.getElementById('days').textContent = days;
      document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
      document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
      document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');
    }

    setInterval(updateCountdown, 1000);
    updateCountdown();

    // Current Time Display
    function updateCurrentTime() {
      const now = new Date();
      const jstOptions = { timeZone: 'Asia/Tokyo', hour: '2-digit', minute: '2-digit', hour12: false };
      const ukOptions = { timeZone: 'Europe/London', hour: '2-digit', minute: '2-digit', hour12: false };

      document.getElementById('current-time-jst').textContent = now.toLocaleTimeString('en-US', jstOptions);
      document.getElementById('current-time-uk').textContent = now.toLocaleTimeString('en-US', ukOptions);
    }

    setInterval(updateCurrentTime, 1000);
    updateCurrentTime();

    // Toggle All Details
    function toggleAllDetails(open) {
      document.querySelectorAll('.tItem details').forEach(details => {
        details.open = open;
      });
    }

    // Back to Top
    const backToTopBtn = document.getElementById('backToTop');

    window.addEventListener('scroll', () => {
      if (window.scrollY > 400) {
        backToTopBtn.classList.add('visible');
      } else {
        backToTopBtn.classList.remove('visible');
      }
    });

    function scrollToTop() {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Packing Checklist with LocalStorage
    const checklistItems = [
      { id: 'passport', label: 'Passport', icon: 'fa-passport' },
      { id: 'tickets', label: 'Flight Tickets (E-ticket)', icon: 'fa-ticket' },
      { id: 'insurance', label: 'Travel Insurance', icon: 'fa-shield-halved' },
      { id: 'adapter', label: 'Power Adapter (UK/EU)', icon: 'fa-plug' },
      { id: 'charger', label: 'Phone Charger', icon: 'fa-charging-station' },
      { id: 'umbrella', label: 'Umbrella', icon: 'fa-umbrella' },
      { id: 'jacket', label: 'Light Jacket', icon: 'fa-shirt' },
      { id: 'cash', label: 'Cash (GBP/EUR)', icon: 'fa-money-bill' },
      { id: 'cards', label: 'Credit Cards', icon: 'fa-credit-card' },
      { id: 'medicine', label: 'Medicine', icon: 'fa-pills' },
      { id: 'camera', label: 'Camera', icon: 'fa-camera' },
      { id: 'matchticket', label: 'Match Ticket', icon: 'fa-futbol' }
    ];

    function loadChecklist() {
      const saved = localStorage.getItem('uk-trip-checklist');
      return saved ? JSON.parse(saved) : {};
    }

    function saveChecklist(data) {
      localStorage.setItem('uk-trip-checklist', JSON.stringify(data));
    }

    function renderChecklist() {
      const container = document.getElementById('checklist-items');
      const saved = loadChecklist();

      container.innerHTML = checklistItems.map(item => `
        <div class="checklist-item ${saved[item.id] ? 'checked' : ''}" onclick="toggleItem('${item.id}')">
          <input type="checkbox" id="${item.id}" ${saved[item.id] ? 'checked' : ''} aria-label="${item.label}">
          <label for="${item.id}">
            <i class="fa-solid ${item.icon}"></i>
            ${item.label}
          </label>
        </div>
      `).join('');
    }

    function toggleItem(id) {
      const saved = loadChecklist();
      saved[id] = !saved[id];
      saveChecklist(saved);
      renderChecklist();
    }

    function checkAll() {
      const saved = {};
      checklistItems.forEach(item => saved[item.id] = true);
      saveChecklist(saved);
      renderChecklist();
    }

    function uncheckAll() {
      saveChecklist({});
      renderChecklist();
    }

    renderChecklist();

    // Register Service Worker for PWA
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('sw.js')
          .then(reg => console.log('Service Worker registered'))
          .catch(err => console.log('Service Worker registration failed:', err));
      });
    }
  </script>
</body>
</html>
