<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>【業務連絡】ロンドン渡航・旅のしおり（時系列）</title>
  <meta name="description" content="2025年3月30日〜4月6日 ロンドン渡航の旅のしおり - 日本vsイングランド@ウェンブリー観戦を含む英国・ドイツ周遊">

  <!-- OGP Meta Tags -->
  <meta property="og:title" content="【業務連絡】ロンドン渡航・旅のしおり">
  <meta property="og:description" content="3/30-4/6 ロンドン渡航・旅のしおり - ウェンブリースタジアムで日本vsイングランド観戦">
  <meta property="og:type" content="website">
  <meta property="og:image" content="images/london-hero.jpg">
  <meta name="twitter:card" content="summary_large_image">

  <!-- PWA -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#ffffff">
  <link rel="apple-touch-icon" href="images/icon.svg">
  <link rel="icon" type="image/svg+xml" href="images/icon.svg">

  <!-- Fonts & Icons -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

  <style>
    :root{
      /* ライトモード - 読みやすさ最優先 */
      --bg:#ffffff;
      --bg-light:#f8fafc;
      --card:#ffffff;
      --text:#1f2937;
      --text-muted:#4b5563;
      --line:#e5e7eb;

      /* 3色に限定：青（確定）・オレンジ（注意）・グレー（可変） */
      --blue:#2563eb;
      --blue-light:#dbeafe;
      --orange:#ea580c;
      --orange-light:#ffedd5;
      --gray:#6b7280;
      --gray-light:#f3f4f6;

      --shadow: 0 4px 20px rgba(0,0,0,.08);
      --radius:12px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: 'Noto Sans JP', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    html{scroll-behavior:smooth}
    body{
      font-family:var(--sans);
      color:var(--text);
      background:var(--bg);
      font-size:16px;
      line-height:1.8;
      min-height:100vh;
    }

    /* Utility Classes */
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}
    .muted{color:var(--text-muted)}
    .mono{font-family:var(--mono)}

    /* Wrapper - 余白を広く */
    .wrap{
      max-width:900px;
      margin:0 auto;
      padding:32px 24px 80px;
    }

    /* Hero Section - ライトモード */
    .hero{
      position:relative;
      border:2px solid var(--line);
      border-radius:var(--radius);
      overflow:hidden;
      box-shadow:var(--shadow);
      background:var(--card);
    }
    .hero-bg{
      display:none; /* 背景画像を非表示 */
    }
    .heroTop{
      position:relative;
      z-index:1;
      padding:40px 32px 32px;
      background:var(--bg-light);
      border-bottom:2px solid var(--line);
    }

    /* Countdown Timer */
    .countdown-container{
      background:var(--blue-light);
      border-radius:var(--radius);
      padding:20px 24px;
      margin-bottom:28px;
      border:2px solid var(--blue);
    }
    .countdown-label{
      font-size:16px;
      font-weight:700;
      color:var(--text);
      margin-bottom:12px;
      display:flex;
      align-items:center;
      gap:10px;
    }
    .countdown-label i{color:var(--blue)}
    .countdown{
      display:flex;
      gap:24px;
      flex-wrap:wrap;
    }
    .countdown-item{
      text-align:center;
    }
    .countdown-value{
      font-size:36px;
      font-weight:900;
      color:var(--blue);
      line-height:1;
    }
    .countdown-unit{
      font-size:14px;
      font-weight:700;
      color:var(--text-muted);
      margin-top:4px;
    }

    .kicker{
      display:flex;
      align-items:center;
      gap:12px;
      flex-wrap:wrap;
      letter-spacing:.5px;
      font-weight:800;
      font-size:14px;
      color:var(--text);
      margin-bottom:8px;
    }
    .title{
      margin:16px 0 20px;
      font-size:28px;
      font-weight:900;
      color:var(--text);
      line-height:1.4;
    }
    .title i{color:var(--blue)}
    .meta{
      display:flex;
      gap:16px;
      flex-wrap:wrap;
      font-size:16px;
    }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:10px 16px;
      border-radius:8px;
      border:2px solid var(--line);
      background:var(--card);
      font-weight:700;
      font-size:14px;
      color:var(--text);
    }
    .dot{
      width:10px;height:10px;border-radius:999px;display:inline-block;
      background:var(--blue);
    }
    .dot.warn{background:var(--orange)}
    .dot.ok{background:var(--blue)}

    .note{
      margin:24px 0 0;
      color:var(--text);
      font-size:16px;
      line-height:2;
      padding:16px;
      background:var(--gray-light);
      border-radius:8px;
    }
    .note b{color:var(--blue);font-weight:900}
    .note i{color:var(--blue);margin-right:4px}

    /* Summary Grid */
    .grid{
      display:grid;
      grid-template-columns:repeat(4,minmax(0,1fr));
      gap:20px;
      margin-top:28px;
    }
    .card{
      border-radius:var(--radius);
      border:2px solid var(--line);
      background:var(--card);
      box-shadow:var(--shadow);
      padding:20px;
      min-height:110px;
    }
    .card small{
      display:flex;
      align-items:center;
      gap:8px;
      color:var(--text-muted);
      font-weight:800;
      letter-spacing:.05em;
      font-size:14px;
      margin-bottom:12px;
    }
    .card small i{color:var(--blue)}
    .card .big{
      font-size:17px;
      font-weight:900;
      line-height:1.5;
      color:var(--text);
    }
    .sub{
      margin-top:10px;
      color:var(--text-muted);
      font-size:14px;
    }

    .heroBody{
      position:relative;
      z-index:1;
      padding:32px;
    }

    /* Table of Contents */
    .toc{
      background:var(--bg-light);
      border:2px solid var(--line);
      border-radius:var(--radius);
      padding:24px;
      margin-bottom:32px;
    }
    .toc-title{
      font-size:18px;
      font-weight:900;
      margin-bottom:16px;
      display:flex;
      align-items:center;
      gap:10px;
      color:var(--text);
    }
    .toc-title i{color:var(--blue)}
    .toc-list{
      display:flex;
      flex-wrap:wrap;
      gap:12px;
      list-style:none;
    }
    .toc-list a{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:10px 16px;
      border-radius:8px;
      background:var(--card);
      border:2px solid var(--line);
      color:var(--text);
      text-decoration:none;
      font-size:14px;
      font-weight:700;
    }
    .toc-list a:hover{
      background:var(--blue-light);
      border-color:var(--blue);
    }
    .toc-list a i{color:var(--blue)}
    .toc-list a.match{
      background:var(--orange-light);
      border-color:var(--orange);
      color:var(--orange);
    }
    .toc-list a.match i{color:var(--orange)}

    /* Action Buttons */
    .actions{
      display:flex;
      gap:12px;
      flex-wrap:wrap;
      margin-bottom:28px;
    }
    .btn{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:12px 20px;
      border-radius:8px;
      border:2px solid var(--blue);
      background:var(--card);
      color:var(--blue);
      font-size:14px;
      font-weight:700;
      cursor:pointer;
    }
    .btn:hover{
      background:var(--blue-light);
    }
    .btn i{color:var(--blue)}

    /* Section Titles */
    .sectionTitle{
      font-size:20px;
      color:var(--text);
      font-weight:900;
      margin:40px 0 20px;
      padding-bottom:12px;
      border-bottom:3px solid var(--blue);
      display:flex;
      align-items:center;
      gap:12px;
    }
    .sectionTitle:before{
      content:"";
      width:8px;height:8px;
      border-radius:50%;
      background:var(--blue);
    }
    .sectionTitle i{color:var(--blue)}

    /* Info Cards Grid */
    .info-grid{
      display:grid;
      grid-template-columns:repeat(4,1fr);
      gap:20px;
      margin-bottom:32px;
    }
    .info-card{
      background:var(--card);
      border:2px solid var(--line);
      border-radius:var(--radius);
      padding:20px;
    }
    .info-card-icon{
      width:48px;height:48px;
      border-radius:var(--radius);
      background:var(--blue-light);
      display:flex;align-items:center;justify-content:center;
      margin-bottom:16px;
      font-size:20px;
      color:var(--blue);
    }
    .info-card-title{
      font-size:14px;
      color:var(--text-muted);
      font-weight:800;
      margin-bottom:6px;
    }
    .info-card-value{
      font-size:18px;
      font-weight:900;
      color:var(--text);
    }
    .info-card-note{
      font-size:14px;
      color:var(--text-muted);
      margin-top:8px;
    }

    /* Flight Route Map */
    .flight-route{
      background:var(--bg-light);
      border:2px solid var(--line);
      border-radius:var(--radius);
      padding:24px;
      margin-bottom:32px;
      overflow-x:auto;
      -webkit-overflow-scrolling:touch;
    }
    .route-svg{
      width:100%;
      min-width:700px;
      height:140px;
    }

    /* 観光スポット紹介セクション */
    .spots-nav{
      display:flex;
      flex-wrap:wrap;
      gap:12px;
      margin-bottom:28px;
    }
    .spot-btn{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:14px 20px;
      border-radius:var(--radius);
      border:2px solid var(--line);
      background:var(--card);
      color:var(--text);
      font-size:16px;
      font-weight:700;
      cursor:pointer;
      text-decoration:none;
      transition:all .2s;
    }
    .spot-btn:hover,.spot-btn:focus{
      background:var(--blue-light);
      border-color:var(--blue);
      color:var(--blue);
    }
    .spot-btn.beatles{
      border-color:var(--orange);
      background:var(--orange-light);
      color:var(--orange);
    }
    .spot-btn.beatles:hover{
      background:var(--orange);
      color:#fff;
    }
    .spot-btn i{font-size:20px}

    .spot-card{
      background:var(--card);
      border:2px solid var(--line);
      border-radius:var(--radius);
      overflow:hidden;
      margin-bottom:24px;
    }
    .spot-card.beatles-special{
      border-color:var(--orange);
      border-width:3px;
    }
    .spot-card-img{
      width:100%;
      height:200px;
      object-fit:cover;
      display:block;
    }
    .spot-card-body{
      padding:24px;
    }
    .spot-card-title{
      font-size:22px;
      font-weight:900;
      margin-bottom:12px;
      display:flex;
      align-items:center;
      gap:12px;
      color:var(--text);
    }
    .spot-card-title i{color:var(--blue)}
    .beatles-special .spot-card-title i{color:var(--orange)}
    .spot-card-desc{
      font-size:16px;
      line-height:1.9;
      color:var(--text);
      margin-bottom:16px;
    }
    .spot-card-tag{
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding:8px 14px;
      border-radius:6px;
      background:var(--blue-light);
      color:var(--blue);
      font-size:14px;
      font-weight:700;
      margin-right:8px;
      margin-bottom:8px;
    }
    .beatles-special .spot-card-tag{
      background:var(--orange-light);
      color:var(--orange);
    }
    .beatles-badge{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:10px 16px;
      border-radius:8px;
      background:var(--orange);
      color:#fff;
      font-size:16px;
      font-weight:900;
    }
    .route-city{
      font-size:14px;
      font-weight:900;
      fill:var(--text);
    }
    .route-code{
      font-size:12px;
      fill:var(--text-muted);
    }
    .route-line{
      stroke:var(--blue);
      stroke-width:3;
      stroke-dasharray:8 4;
      fill:none;
    }
    .route-dot{
      fill:var(--blue);
    }
    .route-plane{
      fill:var(--blue);
    }

    /* Timeline */
    .timeline{
      position:relative;
      margin-top:24px;
      padding-left:28px;
    }
    .timeline:before{
      content:"";
      position:absolute;
      left:10px;top:12px;bottom:12px;
      width:4px;
      background:var(--blue);
      border-radius:99px;
    }

    /* Timeline Item */
    .tItem{
      position:relative;
      margin:24px 0;
      border-radius:var(--radius);
      border:2px solid var(--line);
      background:var(--card);
      overflow:hidden;
    }
    .tItem:before{
      content:"";
      position:absolute;
      left:-28px;top:28px;
      width:16px;height:16px;
      border-radius:999px;
      background:var(--blue);
      border:3px solid var(--card);
      z-index:1;
    }

    /* Day Header Image - 暗いオーバーレイ付き、または非表示 */
    .day-header-img{
      display:none; /* 画像を非表示にして可読性を優先 */
    }

    /* Match Day Special Styling - オレンジで強調 */
    .tItem.match-day{
      border-color:var(--orange);
      border-width:3px;
      background:var(--orange-light);
    }
    .tItem.match-day:before{
      background:var(--orange);
    }

    /* Collapsible Details */
    .tItem details{
      padding:0;
    }
    .tItem summary{
      padding:20px 24px;
      cursor:pointer;
      list-style:none;
      user-select:none;
    }
    .tItem summary::-webkit-details-marker{display:none}
    .tItem summary::marker{display:none}
    .tItem details[open] summary{
      border-bottom:2px solid var(--line);
    }
    .tItem .tBody{
      padding:24px;
      color:var(--text);
      font-size:16px;
    }

    .tHead{
      display:flex;
      justify-content:space-between;
      gap:16px;
      align-items:flex-start;
      flex-wrap:wrap;
    }
    .tDate{
      font-weight:900;
      font-size:18px;
      display:flex;
      align-items:center;
      gap:12px;
      color:var(--text);
    }
    .tDate i{
      color:var(--blue);
      font-size:18px;
    }
    .match-day .tDate i{color:var(--orange)}

    .expand-icon{
      margin-left:auto;
      color:var(--text-muted);
      transition:transform .3s;
    }
    details[open] .expand-icon{transform:rotate(180deg)}

    .tags{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
      margin-top:12px;
    }
    .tag{
      font-family:var(--mono);
      font-size:14px;
      padding:6px 12px;
      border-radius:6px;
      border:2px solid var(--line);
      background:var(--bg-light);
      color:var(--text);
      white-space:nowrap;
      display:inline-flex;
      align-items:center;
      gap:6px;
    }
    .tag i{font-size:12px;color:var(--blue)}
    .tag.ok{border-color:var(--blue);color:var(--blue);background:var(--blue-light)}
    .tag.warn{border-color:var(--orange);color:var(--orange);background:var(--orange-light)}
    .tag.flex{border-color:var(--gray);color:var(--gray);background:var(--gray-light)}
    .tag.gold{border-color:var(--orange);color:var(--orange);background:var(--orange-light)}

    .tBody ul{
      margin:12px 0 0 24px;
      padding:0;
      list-style:none;
    }
    .tBody li{
      margin:12px 0;
      position:relative;
      padding-left:24px;
      font-size:16px;
      line-height:1.8;
    }
    .tBody li:before{
      content:"";
      position:absolute;
      left:0;top:12px;
      width:8px;height:8px;
      border-radius:50%;
      background:var(--blue);
    }
    .match-day .tBody li:before{background:var(--orange)}

    /* Time Display - 時刻を太字で強調 */
    .time-display{
      display:inline-flex;
      align-items:center;
      gap:8px;
      background:var(--blue-light);
      padding:6px 14px;
      border-radius:6px;
      font-family:var(--mono);
      font-size:16px;
      margin-right:12px;
      border:2px solid var(--blue);
    }
    .time-display .local{color:var(--blue);font-weight:900;font-size:18px}
    .time-display .jst{color:var(--text-muted);font-size:14px;font-weight:700}

    .callout{
      border-radius:var(--radius);
      border:2px solid var(--blue);
      background:var(--blue-light);
      padding:20px;
      margin-top:20px;
      font-size:16px;
    }
    .callout b{color:var(--blue)}

    .hr{
      height:3px;
      background:var(--line);
      margin:48px 0;
    }

    /* Weather Section */
    .weather-grid{
      display:grid;
      grid-template-columns:repeat(2,1fr);
      gap:20px;
      margin-bottom:28px;
    }
    .weather-card{
      background:var(--card);
      border:2px solid var(--line);
      border-radius:var(--radius);
      padding:24px;
    }
    .weather-city{
      font-size:18px;
      font-weight:900;
      margin-bottom:16px;
      display:flex;
      align-items:center;
      gap:10px;
      color:var(--text);
    }
    .weather-city i{color:var(--blue)}
    .weather-details{
      display:flex;
      gap:24px;
    }
    .weather-temp{
      text-align:center;
    }
    .weather-temp .value{
      font-size:32px;
      font-weight:900;
      color:var(--blue);
    }
    .weather-temp .label{
      font-size:14px;
      color:var(--text-muted);
      font-weight:700;
    }
    .weather-info{
      font-size:16px;
      color:var(--text);
      line-height:2;
    }
    .weather-info i{color:var(--blue);margin-right:6px}

    /* Transportation Section */
    .transport-list{
      background:var(--card);
      border:2px solid var(--line);
      border-radius:var(--radius);
      padding:20px;
      margin-bottom:28px;
    }
    .transport-item{
      display:flex;
      align-items:flex-start;
      gap:16px;
      padding:16px 0;
      border-bottom:2px solid var(--line);
    }
    .transport-item:last-child{border-bottom:none}
    .transport-icon{
      width:48px;height:48px;
      border-radius:var(--radius);
      background:var(--blue-light);
      display:flex;align-items:center;justify-content:center;
      color:var(--blue);
      flex-shrink:0;
      font-size:20px;
    }
    .transport-info h4{
      font-size:18px;
      font-weight:900;
      margin-bottom:6px;
      color:var(--text);
    }
    .transport-info p{
      font-size:16px;
      color:var(--text-muted);
      margin:0;
      line-height:1.6;
    }
    .transport-info .price{
      display:inline-block;
      margin-top:10px;
      padding:6px 12px;
      background:var(--blue-light);
      border:2px solid var(--blue);
      border-radius:6px;
      font-size:14px;
      color:var(--blue);
      font-weight:900;
    }

    /* Checklist Section */
    .checklist{
      background:var(--card);
      border:2px solid var(--line);
      border-radius:var(--radius);
      padding:24px;
      margin-bottom:28px;
    }
    .checklist-grid{
      display:grid;
      grid-template-columns:repeat(2,1fr);
      gap:12px;
    }
    .checklist-item{
      display:flex;
      align-items:center;
      gap:12px;
      padding:12px 16px;
      border-radius:8px;
      background:var(--bg-light);
      border:2px solid var(--line);
      cursor:pointer;
    }
    .checklist-item:hover{background:var(--blue-light);border-color:var(--blue)}
    .checklist-item input{
      width:22px;height:22px;
      accent-color:var(--blue);
      cursor:pointer;
    }
    .checklist-item label{
      font-size:16px;
      cursor:pointer;
      flex:1;
      display:flex;
      align-items:center;
      gap:10px;
      color:var(--text);
    }
    .checklist-item label i{
      color:var(--blue);
      width:20px;
    }
    .checklist-item.checked label{
      color:var(--text-muted);
      text-decoration:line-through;
    }
    .checklist-actions{
      margin-top:16px;
      display:flex;
      gap:12px;
    }
    .checklist-btn{
      padding:10px 16px;
      border-radius:8px;
      border:2px solid var(--blue);
      background:var(--card);
      color:var(--blue);
      font-size:14px;
      font-weight:700;
      cursor:pointer;
    }
    .checklist-btn:hover{
      background:var(--blue-light);
    }

    /* Lodging Summary */
    .lodging{
      display:grid;
      grid-template-columns:1.15fr 1fr;
      gap:20px;
    }
    .lodging .callout{
      border-color:var(--orange);
      background:var(--orange-light);
    }
    .lodging .callout b{color:var(--orange)}
    .lodging .callout i{color:var(--orange)}
    .table{
      width:100%;
      border-collapse:collapse;
      overflow:hidden;
      border-radius:var(--radius);
      border:2px solid var(--line);
      background:var(--card);
    }
    .table th,.table td{
      padding:16px 18px;
      border-bottom:2px solid var(--line);
      font-size:16px;
      vertical-align:top;
      color:var(--text);
    }
    .table th{
      text-align:left;
      color:var(--text);
      font-weight:900;
      background:var(--bg-light);
    }
    .table tr:last-child td{border-bottom:none}
    .table td i{color:var(--blue);margin-right:8px}

    /* Back to Top */
    .back-to-top{
      position:fixed;
      bottom:24px;
      right:24px;
      width:56px;height:56px;
      border-radius:50%;
      background:var(--blue);
      border:none;
      color:#fff;
      font-size:20px;
      cursor:pointer;
      opacity:0;
      visibility:hidden;
      transition:all .3s;
      box-shadow:0 4px 16px rgba(37,99,235,.3);
      z-index:100;
    }
    .back-to-top.visible{
      opacity:1;
      visibility:visible;
    }
    .back-to-top:hover{
      transform:translateY(-3px);
      box-shadow:0 8px 24px rgba(37,99,235,.4);
    }

    /* Footer */
    footer{
      margin-top:32px;
      padding-top:20px;
      border-top:2px solid var(--line);
      color:var(--text-muted);
      font-size:14px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      flex-wrap:wrap;
      gap:12px;
    }
    footer a{color:var(--blue);text-decoration:none}

    /* Responsive - スマホ最適化 */
    @media (max-width:860px){
      .grid{grid-template-columns:repeat(2,minmax(0,1fr))}
      .info-grid{grid-template-columns:repeat(2,1fr)}
      .lodging{grid-template-columns:1fr}
      .weather-grid{grid-template-columns:1fr}
      .checklist-grid{grid-template-columns:1fr}
      .spot-card-img{height:180px}
    }
    @media (max-width:520px){
      body{font-size:15px}
      .wrap{padding:12px 8px 60px}
      .grid{grid-template-columns:1fr;gap:16px}
      .info-grid{grid-template-columns:1fr;gap:16px}
      .heroTop{padding:20px 12px 16px}
      .heroBody{padding:16px 12px 24px}
      .title{font-size:20px;line-height:1.5}
      .countdown-container{padding:16px}
      .countdown{gap:16px}
      .countdown-value{font-size:26px}
      .countdown-unit{font-size:12px}
      .toc{padding:16px}
      .toc-title{font-size:16px}
      .toc-list{flex-direction:column;gap:8px}
      .toc-list a{width:100%;justify-content:flex-start;padding:12px 16px;font-size:15px}
      .sectionTitle{font-size:18px;margin:32px 0 16px}
      .tItem summary{padding:16px}
      .tItem .tBody{padding:16px}
      .tDate{font-size:15px;gap:8px}
      .tDate i{font-size:16px}
      .tags{gap:8px}
      .tag{font-size:12px;padding:5px 10px}
      .time-display{padding:4px 8px;font-size:13px;margin-right:8px;flex-wrap:wrap}
      .time-display .local{font-size:15px}
      .time-display .jst{font-size:12px}
      .tBody li{padding-left:20px;font-size:15px;margin:10px 0}
      .callout{padding:16px;font-size:15px}
      .spot-btn{padding:12px 16px;font-size:14px;width:100%}
      .spot-btn i{font-size:18px}
      .spot-card-img{height:160px}
      .spot-card-body{padding:16px}
      .spot-card-title{font-size:18px}
      .spot-card-desc{font-size:15px}
      .weather-card{padding:16px}
      .weather-city{font-size:16px}
      .weather-temp .value{font-size:28px}
      .transport-item{padding:12px 0;gap:12px}
      .transport-icon{width:40px;height:40px;font-size:18px}
      .transport-info h4{font-size:16px}
      .transport-info p{font-size:14px}
      .checklist-item{padding:10px 12px}
      .checklist-item label{font-size:14px;gap:8px}
      .table th,.table td{padding:12px 10px;font-size:14px}
      .back-to-top{width:48px;height:48px;font-size:18px;bottom:16px;right:16px}
      .actions{gap:8px}
      .btn{padding:10px 14px;font-size:13px}
      .pill{padding:8px 12px;font-size:13px}
      .meta{gap:8px}
      .note{padding:12px;font-size:14px;line-height:1.8}
      .card{padding:16px;min-height:auto}
      .card .big{font-size:15px}
      .card small{font-size:12px}
      .info-card{padding:16px}
      .info-card-icon{width:40px;height:40px;font-size:18px;margin-bottom:12px}
      .info-card-value{font-size:16px}
      .info-card-title{font-size:13px}
      .info-card-note{font-size:13px}
      footer{font-size:12px;flex-direction:column;text-align:center}
      /* 乗継セクション スマホ対応 */
      #connection-title+div{grid-template-columns:1fr}
      #connection-title+div>div:last-child{grid-column:1}
    }

    /* Print Styles - 印刷時もライトモードベース */
    @media print{
      *{-webkit-print-color-adjust:exact;print-color-adjust:exact}
      body{background:#fff;color:#1f2937;font-size:12pt;line-height:1.6}
      .wrap{max-width:100%;margin:0;padding:10mm}
      .hero{box-shadow:none;border:2px solid #e5e7eb;background:#fff}
      .hero-bg{display:none}
      .heroTop{background:#f8fafc;border-bottom:2px solid #e5e7eb;padding:15mm 10mm}
      .pill{background:#fff;border:2px solid #e5e7eb}
      .card,.tItem,.callout,.table,.info-card,.weather-card,.transport-list,.checklist,.spot-card,.match-details{
        background:#fff;border:2px solid #e5e7eb;box-shadow:none
      }
      .timeline:before{background:#2563eb}
      .tItem:before{background:#2563eb;box-shadow:none;border:2px solid #fff}
      .tag{background:#f8fafc;border:2px solid #e5e7eb;color:#1f2937}
      .back-to-top,.actions{display:none}
      .countdown-container{border:2px solid #2563eb;background:#dbeafe}
      .tItem details{display:block}
      .tItem summary{pointer-events:none}
      .tBody{display:block!important}
      footer{color:#4b5563;margin-top:10mm;padding-top:5mm}
      .sectionTitle{page-break-after:avoid;margin-top:8mm}
      .tItem{page-break-inside:avoid;margin-bottom:5mm}
      .spot-card{page-break-inside:avoid}
      .info-grid{grid-template-columns:repeat(2,1fr)}
      .grid{grid-template-columns:repeat(2,1fr)}
      .match-day{border-color:#ea580c!important;background:#ffedd5!important}
      .title{font-size:18pt}
      .note{font-size:10pt;line-height:1.8}
      .toc{page-break-after:always}
      .spots-nav{display:none}
      .spot-card-img{height:120px}
      .checklist-grid{grid-template-columns:repeat(2,1fr)}
      .checklist-item{background:#f8fafc;border:1px solid #e5e7eb;padding:6px 10px}
      .checklist-item label{font-size:10pt}
      a{color:#2563eb;text-decoration:none}
      a[href]:after{content:" (" attr(href) ")";font-size:8pt;color:#6b7280}
      .toc-list a[href]:after,.spot-btn[href]:after,.btn[href]:after{content:none}
    }
  </style>
</head>

<body>
  <div class="wrap">
    <section class="hero" role="document" aria-label="旅のしおり">
      <div class="hero-bg" aria-hidden="true"></div>

      <header class="heroTop">
        <!-- Countdown Timer -->
        <div class="countdown-container">
          <div class="countdown-label">
            <i class="fa-solid fa-clock"></i>
            <span>出発まであと</span>
            <span id="countdown-status"></span>
          </div>
          <div class="countdown" id="countdown" aria-live="polite">
            <div class="countdown-item">
              <div class="countdown-value" id="days">--</div>
              <div class="countdown-unit">日</div>
            </div>
            <div class="countdown-item">
              <div class="countdown-value" id="hours">--</div>
              <div class="countdown-unit">時間</div>
            </div>
            <div class="countdown-item">
              <div class="countdown-value" id="minutes">--</div>
              <div class="countdown-unit">分</div>
            </div>
            <div class="countdown-item">
              <div class="countdown-value" id="seconds">--</div>
              <div class="countdown-unit">秒</div>
            </div>
          </div>
        </div>

        <div class="kicker">
          <span class="dot ok" aria-hidden="true"></span>
          BUSINESS NOTICE / ITINERARY
          <span class="pill"><span class="dot warn" aria-hidden="true"></span>キャンセル可</span>
          <span class="pill"><span class="dot ok" aria-hidden="true"></span>予約状況：確定</span>
        </div>

        <h1 class="title">
          <i class="fa-solid fa-plane-departure"></i>
          【業務連絡】ロンドン渡航・旅のしおり（時系列）
        </h1>

        <div class="meta">
          <span class="pill"><span class="dot" aria-hidden="true"></span>宛先：父上 森下利明 様／母上 森下晴美 様</span>
          <span class="pill"><span class="dot" aria-hidden="true"></span>差出：森下恭祐</span>
        </div>

        <p class="note">
          <i class="fa-solid fa-ticket"></i>
          航空券（特典エコノミー）を<b>確保済み</b>のためご報告申し上げます。<br>
          <b>現時点ではキャンセル可能</b>です。特典枠の都合上、<b>このスケジュールでしか確保できませんでした</b>。<br>
          <i class="fa-solid fa-clock"></i> 時刻は原則<b>現地時間</b>、（ ）内に<b>日本時間</b>を併記します。
        </p>

        <!-- Summary Cards -->
        <div class="grid" aria-label="要点サマリ">
          <article class="card">
            <small><i class="fa-solid fa-plane-departure"></i> DEPARTURE</small>
            <div class="big">3/30(月) 09:30<br>関西（JST）出発</div>
            <div class="sub muted">KIX → MUC → LHR</div>
          </article>
          <article class="card">
            <small><i class="fa-solid fa-plane-arrival"></i> ARRIVAL</small>
            <div class="big">3/30(月) 19:40<br>ロンドン着（現地）</div>
            <div class="sub muted">（3/31(火) 03:40 JST）</div>
          </article>
          <article class="card" style="border-color:var(--orange);background:var(--orange-light)">
            <small><i class="fa-solid fa-futbol" style="color:var(--orange)"></i> MAIN EVENT</small>
            <div class="big" style="color:var(--orange)">日本 vs イングランド<br>ウェンブリー観戦予定</div>
            <div class="sub muted">3/31(火)（現地）</div>
          </article>
          <article class="card">
            <small><i class="fa-solid fa-house"></i> RETURN</small>
            <div class="big">4/6(月) 22:20<br>関西（JST）帰着</div>
            <div class="sub muted">最終到着時刻</div>
          </article>
        </div>
      </header>

      <main class="heroBody">
        <!-- Action Buttons -->
        <div class="actions">
          <button class="btn" onclick="window.print()" aria-label="印刷">
            <i class="fa-solid fa-print"></i> 印刷
          </button>
          <button class="btn" onclick="toggleAllDetails(true)" aria-label="すべて展開">
            <i class="fa-solid fa-expand"></i> すべて展開
          </button>
          <button class="btn" onclick="toggleAllDetails(false)" aria-label="すべて折りたたむ">
            <i class="fa-solid fa-compress"></i> すべて折りたたむ
          </button>
        </div>

        <!-- Table of Contents -->
        <nav class="toc" aria-label="目次">
          <div class="toc-title"><i class="fa-solid fa-list"></i> 目次</div>
          <ul class="toc-list">
            <li><a href="#day-330"><i class="fa-solid fa-plane"></i> 3/30 移動日</a></li>
            <li><a href="#day-331" class="match"><i class="fa-solid fa-futbol"></i> 3/31 試合日</a></li>
            <li><a href="#day-401"><i class="fa-solid fa-compass"></i> 4/1 自由行動</a></li>
            <li><a href="#day-402"><i class="fa-solid fa-compass"></i> 4/2 自由行動</a></li>
            <li><a href="#day-403"><i class="fa-solid fa-moon"></i> 4/3 英国最終日</a></li>
            <li><a href="#day-404"><i class="fa-solid fa-plane"></i> 4/4 ドイツへ</a></li>
            <li><a href="#day-405"><i class="fa-solid fa-plane"></i> 4/5 中国へ</a></li>
            <li><a href="#day-406"><i class="fa-solid fa-home"></i> 4/6 帰国</a></li>
            <li><a href="#spots" class="match"><i class="fa-solid fa-camera"></i> 観光スポット</a></li>
            <li><a href="#info"><i class="fa-solid fa-info-circle"></i> 基本情報</a></li>
            <li><a href="#checklist"><i class="fa-solid fa-check-square"></i> 持ち物</a></li>
          </ul>
        </nav>

        <!-- Basic Info Cards -->
        <section aria-labelledby="info-title" id="info">
          <h2 class="sectionTitle" id="info-title">
            <i class="fa-solid fa-info-circle"></i> 基本情報
          </h2>
          <div class="info-grid">
            <article class="info-card">
              <div class="info-card-icon"><i class="fa-solid fa-clock"></i></div>
              <div class="info-card-title">時差</div>
              <div class="info-card-value">英国: -9h / 独: -8h</div>
              <div class="info-card-note">日本より遅れ（サマータイム）</div>
            </article>
            <article class="info-card">
              <div class="info-card-icon"><i class="fa-solid fa-coins"></i></div>
              <div class="info-card-title">通貨</div>
              <div class="info-card-value">£ ポンド / € ユーロ</div>
              <div class="info-card-note">英国: ポンド / 独: ユーロ</div>
            </article>
            <article class="info-card">
              <div class="info-card-icon"><i class="fa-solid fa-plug"></i></div>
              <div class="info-card-title">電圧・プラグ</div>
              <div class="info-card-value">230V / BF・C型</div>
              <div class="info-card-note">変換プラグ必須</div>
            </article>
            <article class="info-card">
              <div class="info-card-icon"><i class="fa-solid fa-phone"></i></div>
              <div class="info-card-title">緊急連絡先</div>
              <div class="info-card-value">英: 999 / 独: 112</div>
              <div class="info-card-note">警察・消防・救急</div>
            </article>
          </div>

          <!-- 大使館・重要連絡先 -->
          <div style="background:var(--card);border:2px solid var(--line);border-radius:var(--radius);padding:20px;margin-bottom:28px;">
            <h3 style="font-size:16px;font-weight:900;color:var(--text);margin-bottom:16px;display:flex;align-items:center;gap:10px;">
              <i class="fa-solid fa-building-flag" style="color:var(--blue);"></i> 日本大使館・重要連絡先
            </h3>
            <div style="display:grid;grid-template-columns:repeat(2,1fr);gap:16px;">
              <div style="background:var(--bg-light);border:2px solid var(--line);border-radius:8px;padding:16px;">
                <div style="font-size:14px;color:var(--text-muted);font-weight:700;margin-bottom:6px;">在英国日本国大使館</div>
                <div style="font-size:18px;font-weight:900;color:var(--blue);font-family:var(--mono);">+44-20-7465-6500</div>
                <div style="font-size:13px;color:var(--text-muted);margin-top:4px;">101-104 Piccadilly, London W1J 7JT</div>
              </div>
              <div style="background:var(--bg-light);border:2px solid var(--line);border-radius:8px;padding:16px;">
                <div style="font-size:14px;color:var(--text-muted);font-weight:700;margin-bottom:6px;">在ドイツ日本国大使館</div>
                <div style="font-size:18px;font-weight:900;color:var(--blue);font-family:var(--mono);">+49-30-210940</div>
                <div style="font-size:13px;color:var(--text-muted);margin-top:4px;">Hiroshimastraße 6, 10785 Berlin</div>
              </div>
            </div>
            <div style="margin-top:16px;padding:14px;background:var(--orange-light);border:2px solid var(--orange);border-radius:8px;">
              <div style="font-size:14px;color:var(--orange);font-weight:700;display:flex;align-items:center;gap:8px;">
                <i class="fa-solid fa-triangle-exclamation"></i> UK ETA（電子渡航認証）について
              </div>
              <div style="font-size:14px;color:var(--text);margin-top:8px;line-height:1.7;">
                2025年4月2日以降、日本国籍者も<b style="color:var(--orange);">UK ETA（電子渡航認証）の事前取得が必要</b>になります。<br>
                出発前に必ず申請・取得をお忘れなく。（オンラインで申請可能、費用 £10）
              </div>
            </div>
          </div>
        </section>

        <!-- Flight Route Map -->
        <section aria-labelledby="route-title">
          <h2 class="sectionTitle" id="route-title">
            <i class="fa-solid fa-route"></i> フライトルート
          </h2>
          <div class="flight-route">
            <svg class="route-svg" viewBox="0 0 900 140" aria-label="フライトルート：関西→ミュンヘン→ロンドン→ミュンヘン→北京→羽田→関西">
              <!-- Outbound Route (往路) -->
              <path class="route-line" d="M50,50 Q180,20 300,50 Q380,70 460,50" />
              <!-- Return Route (復路) -->
              <path class="route-line" d="M460,90 Q530,110 600,90 Q680,70 760,90 Q820,100 860,70" style="stroke:var(--gray);opacity:.7" />

              <!-- Cities -->
              <g transform="translate(50,50)">
                <circle class="route-dot" r="10" style="fill:var(--blue)" />
                <text class="route-city" x="0" y="-22" text-anchor="middle">関西</text>
                <text class="route-code" x="0" y="30" text-anchor="middle">KIX</text>
              </g>
              <g transform="translate(300,50)">
                <circle class="route-dot" r="8" />
                <text class="route-city" x="0" y="-20" text-anchor="middle">ミュンヘン</text>
                <text class="route-code" x="0" y="28" text-anchor="middle">MUC</text>
              </g>
              <g transform="translate(460,50)">
                <circle class="route-dot" r="10" style="fill:var(--orange)" />
                <text class="route-city" x="0" y="-22" text-anchor="middle" style="fill:var(--orange);font-weight:900">ロンドン</text>
                <text class="route-code" x="0" y="30" text-anchor="middle">LHR</text>
              </g>
              <g transform="translate(600,90)">
                <circle class="route-dot" r="6" style="fill:var(--gray)" />
                <text class="route-city" x="0" y="-16" text-anchor="middle" style="font-size:12px">北京</text>
                <text class="route-code" x="0" y="22" text-anchor="middle">PEK</text>
              </g>
              <g transform="translate(760,90)">
                <circle class="route-dot" r="6" style="fill:var(--gray)" />
                <text class="route-city" x="0" y="-16" text-anchor="middle" style="font-size:12px">羽田</text>
                <text class="route-code" x="0" y="22" text-anchor="middle">HND</text>
              </g>
              <g transform="translate(860,70)">
                <circle class="route-dot" r="10" style="fill:var(--blue)" />
                <text class="route-city" x="0" y="-22" text-anchor="middle" style="fill:var(--blue);font-weight:900">関西</text>
                <text class="route-code" x="0" y="30" text-anchor="middle">KIX</text>
                <text x="0" y="48" text-anchor="middle" style="font-size:11px;fill:var(--blue);font-weight:700">GOAL!</text>
              </g>

              <!-- Plane icons -->
              <text x="160" y="30" class="route-plane" style="font-size:18px">✈️</text>
              <text x="380" y="60" class="route-plane" style="font-size:18px">✈️</text>
              <text x="530" y="95" style="font-size:14px;fill:var(--gray)">✈️</text>
              <text x="680" y="85" style="font-size:14px;fill:var(--gray)">✈️</text>
              <text x="810" y="80" style="font-size:14px;fill:var(--blue)">✈️</text>
            </svg>
          </div>
        </section>

        <!-- 乗継・注意事項セクション -->
        <section aria-labelledby="connection-title">
          <h2 class="sectionTitle" id="connection-title">
            <i class="fa-solid fa-clock-rotate-left"></i> 乗継時間・注意事項
          </h2>
          <div style="display:grid;grid-template-columns:repeat(2,1fr);gap:16px;margin-bottom:32px;">
            <!-- 往路：ミュンヘン乗継 -->
            <div style="background:var(--card);border:2px solid var(--line);border-radius:var(--radius);padding:20px;">
              <div style="display:flex;align-items:center;gap:10px;margin-bottom:12px;">
                <div style="width:40px;height:40px;border-radius:8px;background:var(--blue-light);display:flex;align-items:center;justify-content:center;">
                  <i class="fa-solid fa-plane-arrival" style="color:var(--blue);font-size:18px;"></i>
                </div>
                <div>
                  <div style="font-size:14px;color:var(--text-muted);font-weight:700;">往路</div>
                  <div style="font-size:16px;font-weight:900;color:var(--text);">ミュンヘン乗継</div>
                </div>
              </div>
              <div style="background:var(--blue-light);border:2px solid var(--blue);border-radius:8px;padding:12px;text-align:center;">
                <div style="font-size:28px;font-weight:900;color:var(--blue);">約2時間</div>
                <div style="font-size:14px;color:var(--text-muted);font-weight:700;">十分な余裕あり</div>
              </div>
              <div style="margin-top:12px;font-size:14px;color:var(--text);line-height:1.7;">
                16:40着 → 18:35発（KIX→MUC→LHR）
              </div>
            </div>

            <!-- 復路：北京乗継 -->
            <div style="background:var(--card);border:2px solid var(--line);border-radius:var(--radius);padding:20px;">
              <div style="display:flex;align-items:center;gap:10px;margin-bottom:12px;">
                <div style="width:40px;height:40px;border-radius:8px;background:var(--blue-light);display:flex;align-items:center;justify-content:center;">
                  <i class="fa-solid fa-plane-arrival" style="color:var(--blue);font-size:18px;"></i>
                </div>
                <div>
                  <div style="font-size:14px;color:var(--text-muted);font-weight:700;">復路</div>
                  <div style="font-size:16px;font-weight:900;color:var(--text);">北京乗継</div>
                </div>
              </div>
              <div style="background:var(--blue-light);border:2px solid var(--blue);border-radius:8px;padding:12px;text-align:center;">
                <div style="font-size:28px;font-weight:900;color:var(--blue);">約3.5時間</div>
                <div style="font-size:14px;color:var(--text-muted);font-weight:700;">余裕あり</div>
              </div>
              <div style="margin-top:12px;font-size:14px;color:var(--text);line-height:1.7;">
                11:45着 → 15:10発（MUC→PEK→HND）
              </div>
            </div>

            <!-- 復路：羽田乗継（注意） -->
            <div style="background:var(--orange-light);border:3px solid var(--orange);border-radius:var(--radius);padding:20px;grid-column:1/-1;">
              <div style="display:flex;align-items:center;gap:10px;margin-bottom:12px;">
                <div style="width:40px;height:40px;border-radius:8px;background:var(--orange);display:flex;align-items:center;justify-content:center;">
                  <i class="fa-solid fa-triangle-exclamation" style="color:#fff;font-size:18px;"></i>
                </div>
                <div>
                  <div style="font-size:14px;color:var(--orange);font-weight:700;">復路・要注意</div>
                  <div style="font-size:16px;font-weight:900;color:var(--orange);">羽田乗継（国際線→国内線）</div>
                </div>
              </div>
              <div style="display:flex;gap:20px;align-items:center;flex-wrap:wrap;">
                <div style="background:var(--card);border:2px solid var(--orange);border-radius:8px;padding:12px 20px;text-align:center;">
                  <div style="font-size:28px;font-weight:900;color:var(--orange);">約1時間25分</div>
                  <div style="font-size:14px;color:var(--orange);font-weight:700;">タイトなスケジュール</div>
                </div>
                <div style="flex:1;font-size:15px;color:var(--text);line-height:1.8;">
                  <b style="color:var(--orange);">19:35着 → 21:00発</b>（HND国際→HND国内→KIX）<br>
                  入国審査・税関・ターミナル移動があるため、<b style="color:var(--orange);">遅延なく到着することが重要</b>です。<br>
                  <span style="color:var(--text-muted);">※万が一乗り遅れた場合は、後続便への振替対応となります</span>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Timeline Schedule -->
        <section aria-labelledby="schedule-title">
          <h2 class="sectionTitle" id="schedule-title">
            <i class="fa-solid fa-calendar-days"></i> 時系列スケジュール
          </h2>

          <div class="timeline">
            <!-- 3/30 -->
            <article class="tItem" id="day-330">
              <img src="images/airplane.jpg" alt="飛行機のイメージ" class="day-header-img" loading="lazy">
              <details open>
                <summary>
                  <header class="tHead">
                    <div class="tDate">
                      <i class="fa-solid fa-plane"></i>
                      3/30(月)　移動日（日本 → ドイツ → 英国）
                    </div>
                    <i class="fa-solid fa-chevron-down expand-icon" aria-hidden="true"></i>
                  </header>
                  <div class="tags">
                    <span class="tag ok"><i class="fa-solid fa-plane"></i> FLIGHT</span>
                    <span class="tag">KIX</span>
                    <span class="tag">MUC</span>
                    <span class="tag">LHR</span>
                    <span class="tag warn"><i class="fa-solid fa-bed"></i> 宿泊：ロンドン（1泊目）</span>
                  </div>
                </summary>
                <div class="tBody">
                  <ul>
                    <li>
                      <span class="time-display">
                        <span class="local">09:30</span>
                        <span class="jst">JST</span>
                      </span>
                      <b>関西 発</b>
                    </li>
                    <li>
                      <span class="time-display">
                        <span class="local">16:40</span>
                        <span class="jst">＝ 23:40 JST相当</span>
                      </span>
                      <b>ミュンヘン 着</b>（現地時間）
                    </li>
                    <li>
                      <span class="time-display">
                        <span class="local">18:35</span>
                        <span class="jst">＝ 翌01:35 JST相当</span>
                      </span>
                      <b>ミュンヘン 発</b>（現地時間）
                    </li>
                    <li>
                      <span class="time-display">
                        <span class="local">19:40</span>
                        <span class="jst">＝ 翌03:40 JST相当</span>
                      </span>
                      <b>ロンドン(ヒースロー) 着</b>（現地時間）
                    </li>
                  </ul>
                </div>
              </details>
            </article>

            <!-- 3/31 - Match Day -->
            <article class="tItem match-day" id="day-331">
              <img src="images/wembley.jpg" alt="ウェンブリースタジアム" class="day-header-img" loading="lazy">
              <details open>
                <summary>
                  <header class="tHead">
                    <div class="tDate">
                      <i class="fa-solid fa-futbol"></i>
                      3/31(火)　ロンドン（試合日）
                    </div>
                    <i class="fa-solid fa-chevron-down expand-icon" aria-hidden="true"></i>
                  </header>
                  <div class="tags">
                    <span class="tag gold"><i class="fa-solid fa-star"></i> MATCH DAY</span>
                    <span class="tag ok"><i class="fa-solid fa-location-dot"></i> London</span>
                    <span class="tag gold"><i class="fa-solid fa-futbol"></i> Wembley</span>
                    <span class="tag warn"><i class="fa-solid fa-bed"></i> 宿泊：ロンドン（2泊目）</span>
                  </div>
                </summary>
                <div class="tBody">
                  <ul>
                    <li><b>終日：ロンドン滞在</b></li>
                    <li>
                      <b style="color:var(--orange)"><i class="fa-solid fa-futbol"></i> 日本代表 vs イングランド代表（ウェンブリー）観戦予定</b><br>
                      <span class="muted">※試合時刻は「予定」。現地の確定情報に合わせて調整します。</span>
                    </li>
                  </ul>

                  <!-- 試合詳細カード -->
                  <div class="match-details" style="background:var(--orange-light);border:3px solid var(--orange);border-radius:var(--radius);padding:24px;margin-top:20px;">
                    <h4 style="font-size:20px;font-weight:900;color:var(--orange);margin-bottom:20px;display:flex;align-items:center;gap:10px;">
                      <i class="fa-solid fa-futbol"></i> 試合詳細
                    </h4>
                    <div style="display:grid;grid-template-columns:repeat(2,1fr);gap:16px;">
                      <div style="background:var(--card);border:2px solid var(--line);border-radius:8px;padding:16px;">
                        <div style="font-size:14px;color:var(--text-muted);font-weight:700;margin-bottom:6px;">対戦カード</div>
                        <div style="font-size:18px;font-weight:900;color:var(--text);">
                          <span style="color:var(--orange);">日本</span> vs <span style="color:var(--blue);">イングランド</span>
                        </div>
                      </div>
                      <div style="background:var(--card);border:2px solid var(--line);border-radius:8px;padding:16px;">
                        <div style="font-size:14px;color:var(--text-muted);font-weight:700;margin-bottom:6px;">キックオフ</div>
                        <div style="font-size:18px;font-weight:900;color:var(--orange);">20:00（現地時間）</div>
                        <div style="font-size:14px;color:var(--text-muted);">＝ 4/1(水) 04:00 JST</div>
                      </div>
                      <div style="background:var(--card);border:2px solid var(--line);border-radius:8px;padding:16px;">
                        <div style="font-size:14px;color:var(--text-muted);font-weight:700;margin-bottom:6px;">会場</div>
                        <div style="font-size:18px;font-weight:900;color:var(--text);">ウェンブリースタジアム</div>
                        <div style="font-size:14px;color:var(--text-muted);">Wembley Stadium, London</div>
                      </div>
                      <div style="background:var(--card);border:2px solid var(--line);border-radius:8px;padding:16px;">
                        <div style="font-size:14px;color:var(--text-muted);font-weight:700;margin-bottom:6px;">収容人数</div>
                        <div style="font-size:18px;font-weight:900;color:var(--text);">約 90,000 人</div>
                        <div style="font-size:14px;color:var(--text-muted);">イングランドの聖地</div>
                      </div>
                    </div>
                    <div style="margin-top:16px;padding:16px;background:var(--card);border:2px solid var(--orange);border-radius:8px;">
                      <div style="font-size:14px;color:var(--text-muted);font-weight:700;margin-bottom:6px;"><i class="fa-solid fa-train" style="color:var(--orange);margin-right:6px;"></i> アクセス</div>
                      <div style="font-size:16px;color:var(--text);line-height:1.8;">
                        <b>Wembley Park駅</b>（Jubilee線/Metropolitan線）から徒歩約10分<br>
                        <span class="muted">※試合前後は混雑するため、余裕を持って移動してください</span>
                      </div>
                    </div>
                  </div>

                  <div class="callout" style="border-color:var(--orange);background:var(--orange-light)">
                    <i class="fa-solid fa-star" style="color:var(--orange)"></i>
                    <b style="color:var(--orange)">メインイベント！</b>
                    ウェンブリースタジアムでの国際親善試合。収容人数：約90,000人。ロンドン北西部に位置。
                  </div>
                </div>
              </details>
            </article>

            <!-- 4/1 -->
            <article class="tItem" id="day-401">
              <img src="images/liverpool.jpg" alt="リバプールの街並み" class="day-header-img" loading="lazy">
              <details>
                <summary>
                  <header class="tHead">
                    <div class="tDate">
                      <i class="fa-solid fa-compass"></i>
                      4/1(水)　英国滞在（自由行動枠）
                    </div>
                    <i class="fa-solid fa-chevron-down expand-icon" aria-hidden="true"></i>
                  </header>
                  <div class="tags">
                    <span class="tag flex"><i class="fa-solid fa-shuffle"></i> FLEX</span>
                    <span class="tag">UK</span>
                    <span class="tag">Liverpool</span>
                    <span class="tag warn"><i class="fa-solid fa-bed"></i> 宿泊：ロンドン or リバプール（可変）</span>
                  </div>
                </summary>
                <div class="tBody">
                  <ul>
                    <li>候補：ロンドン観光／近郊へ小旅行 等</li>
                    <li>候補：<b>リバプール訪問</b>（日帰り or <b>1泊</b>も可能）</li>
                    <li class="muted">※英国滞在中は体調・天候・移動負荷に合わせて柔軟に組み替えます。</li>
                  </ul>
                  <div class="callout" style="margin-top:16px;">
                    <i class="fa-solid fa-comment-dots"></i>
                    <b>お父さん・お母さんへ：</b>行きたい場所があればお知らせください。<br>
                    <span class="muted">リバプール（ビートルズ）、コッツウォルズ、オックスフォードなど、ご希望に合わせて調整します。</span>
                  </div>
                </div>
              </details>
            </article>

            <!-- 4/2 -->
            <article class="tItem" id="day-402">
              <img src="images/tower-bridge.jpg" alt="タワーブリッジ" class="day-header-img" loading="lazy">
              <details>
                <summary>
                  <header class="tHead">
                    <div class="tDate">
                      <i class="fa-solid fa-compass"></i>
                      4/2(木)　英国滞在（自由行動枠）
                    </div>
                    <i class="fa-solid fa-chevron-down expand-icon" aria-hidden="true"></i>
                  </header>
                  <div class="tags">
                    <span class="tag flex"><i class="fa-solid fa-shuffle"></i> FLEX</span>
                    <span class="tag">Liverpool</span>
                    <span class="tag">Manchester</span>
                    <span class="tag warn"><i class="fa-solid fa-bed"></i> 宿泊：ロンドン（可変）</span>
                  </div>
                </summary>
                <div class="tBody">
                  <ul>
                    <li>候補：リバプール継続／マンチェスター方面／ロンドン市内 等</li>
                    <li class="muted">※この日も自由に調整可能です。</li>
                  </ul>
                  <div class="callout" style="margin-top:16px;">
                    <i class="fa-solid fa-heart"></i>
                    <b>ゆったり過ごす日にしても◎</b><br>
                    <span class="muted">無理せず、カフェでお茶したり、ホテルでゆっくり休んだりする日にしても大丈夫です。</span>
                  </div>
                </div>
              </details>
            </article>

            <!-- 4/3 -->
            <article class="tItem" id="day-403">
              <img src="images/big-ben.jpg" alt="ビッグベン" class="day-header-img" loading="lazy">
              <details>
                <summary>
                  <header class="tHead">
                    <div class="tDate">
                      <i class="fa-solid fa-moon"></i>
                      4/3(金)　英国最終日（翌朝早発に備える）
                    </div>
                    <i class="fa-solid fa-chevron-down expand-icon" aria-hidden="true"></i>
                  </header>
                  <div class="tags">
                    <span class="tag warn"><i class="fa-solid fa-clock"></i> EARLY FLIGHT</span>
                    <span class="tag">LHR</span>
                    <span class="tag warn"><i class="fa-solid fa-bed"></i> 宿泊：ロンドン（5泊目）</span>
                  </div>
                </summary>
                <div class="tBody">
                  <ul>
                    <li>翌朝便のため、夜は移動少なめ推奨（ヒースロー近辺に寄せるのも可）</li>
                  </ul>
                </div>
              </details>
            </article>

            <!-- 4/4 -->
            <article class="tItem" id="day-404">
              <img src="images/munich.jpg" alt="ミュンヘンの街並み" class="day-header-img" loading="lazy">
              <details>
                <summary>
                  <header class="tHead">
                    <div class="tDate">
                      <i class="fa-solid fa-plane"></i>
                      4/4(土)　移動日（英国 → ドイツ）
                    </div>
                    <i class="fa-solid fa-chevron-down expand-icon" aria-hidden="true"></i>
                  </header>
                  <div class="tags">
                    <span class="tag ok"><i class="fa-solid fa-plane"></i> FLIGHT</span>
                    <span class="tag">LHR</span>
                    <span class="tag">MUC</span>
                    <span class="tag warn"><i class="fa-solid fa-bed"></i> 宿泊：ミュンヘン（1泊）</span>
                  </div>
                </summary>
                <div class="tBody">
                  <ul>
                    <li>
                      <span class="time-display">
                        <span class="local">06:55</span>
                        <span class="jst">＝ 14:55 JST</span>
                      </span>
                      <b>ロンドン(ヒースロー) 発</b>（現地時間）
                    </li>
                    <li>
                      <span class="time-display">
                        <span class="local">09:50</span>
                        <span class="jst">＝ 16:50 JST</span>
                      </span>
                      <b>ミュンヘン 着</b>（現地時間）
                    </li>
                  </ul>
                </div>
              </details>
            </article>

            <!-- 4/5 -->
            <article class="tItem" id="day-405">
              <img src="images/airplane.jpg" alt="飛行機" class="day-header-img" loading="lazy">
              <details>
                <summary>
                  <header class="tHead">
                    <div class="tDate">
                      <i class="fa-solid fa-plane"></i>
                      4/5(日)　移動日（ドイツ → 中国）
                    </div>
                    <i class="fa-solid fa-chevron-down expand-icon" aria-hidden="true"></i>
                  </header>
                  <div class="tags">
                    <span class="tag ok"><i class="fa-solid fa-plane"></i> FLIGHT</span>
                    <span class="tag">MUC</span>
                    <span class="tag">PEK</span>
                    <span class="tag warn"><i class="fa-solid fa-plane"></i> 機中泊</span>
                  </div>
                </summary>
                <div class="tBody">
                  <ul>
                    <li>日中：ミュンヘン滞在（乗継まで余裕あり）</li>
                    <li>
                      <span class="time-display">
                        <span class="local">19:45</span>
                        <span class="jst">＝ 4/6(月) 02:45 JST</span>
                      </span>
                      <b>ミュンヘン 発</b>（現地時間）
                    </li>
                  </ul>
                </div>
              </details>
            </article>

            <!-- 4/6 -->
            <article class="tItem" id="day-406">
              <img src="images/airplane.jpg" alt="飛行機" class="day-header-img" loading="lazy">
              <details>
                <summary>
                  <header class="tHead">
                    <div class="tDate">
                      <i class="fa-solid fa-home"></i>
                      4/6(月)　帰国日（中国 → 日本 → 関西）
                    </div>
                    <i class="fa-solid fa-chevron-down expand-icon" aria-hidden="true"></i>
                  </header>
                  <div class="tags">
                    <span class="tag ok"><i class="fa-solid fa-flag-checkered"></i> RETURN</span>
                    <span class="tag">PEK</span>
                    <span class="tag">HND</span>
                    <span class="tag ok">KIX</span>
                    <span class="tag ok"><i class="fa-solid fa-clock"></i> 最終：22:20 JST</span>
                  </div>
                </summary>
                <div class="tBody">
                  <ul>
                    <li>
                      <span class="time-display">
                        <span class="local">11:45</span>
                        <span class="jst">＝ 12:45 JST</span>
                      </span>
                      <b>北京 着</b>（現地時間）
                    </li>
                    <li>
                      <span class="time-display">
                        <span class="local">15:10</span>
                        <span class="jst">＝ 16:10 JST相当</span>
                      </span>
                      <b>北京 発</b>（現地時間）
                    </li>
                    <li>
                      <span class="time-display">
                        <span class="local">19:35</span>
                        <span class="jst">JST</span>
                      </span>
                      <b>羽田 着</b>
                    </li>
                    <li>
                      <span class="time-display">
                        <span class="local">21:00</span>
                        <span class="jst">JST</span>
                      </span>
                      <b>羽田 発</b>
                    </li>
                    <li>
                      <span class="time-display">
                        <span class="local">22:20</span>
                        <span class="jst">JST</span>
                      </span>
                      <b style="color:var(--blue)">関西 着</b><span class="muted">※最終到着</span>
                    </li>
                  </ul>
                </div>
              </details>
            </article>
          </div>
        </section>

        <div class="hr"></div>

        <!-- 観光スポット紹介セクション -->
        <section aria-labelledby="spots-title" id="spots">
          <h2 class="sectionTitle" id="spots-title">
            <i class="fa-solid fa-camera"></i> 観光スポット紹介
          </h2>

          <!-- クイックジャンプボタン -->
          <div class="spots-nav">
            <a href="#spot-beatles" class="spot-btn beatles">
              <i class="fa-solid fa-music"></i> ビートルズの聖地
            </a>
            <a href="#spot-wembley" class="spot-btn">
              <i class="fa-solid fa-futbol"></i> ウェンブリー
            </a>
            <a href="#spot-bigben" class="spot-btn">
              <i class="fa-solid fa-landmark"></i> ビッグベン
            </a>
            <a href="#spot-tower" class="spot-btn">
              <i class="fa-solid fa-bridge"></i> タワーブリッジ
            </a>
            <a href="#spot-abbey" class="spot-btn beatles">
              <i class="fa-solid fa-road"></i> アビーロード
            </a>
            <a href="#spot-munich" class="spot-btn">
              <i class="fa-solid fa-beer-mug-empty"></i> ミュンヘン
            </a>
          </div>

          <!-- ビートルズの聖地・リバプール（特別強調） -->
          <article class="spot-card beatles-special" id="spot-beatles">
            <img src="https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&h=400&fit=crop" alt="リバプールの街並み" class="spot-card-img" loading="lazy">
            <div class="spot-card-body">
              <h3 class="spot-card-title">
                <i class="fa-solid fa-music"></i>
                リバプール ― ビートルズの聖地
                <span class="beatles-badge"><i class="fa-solid fa-star"></i> お父さん必見！</span>
              </h3>
              <p class="spot-card-desc">
                🎸 <b>ビートルズファンの聖地</b>リバプール！ジョン・レノン、ポール・マッカートニー、ジョージ・ハリスン、リンゴ・スターが生まれ育った街。<br><br>
                キャバーン・クラブ、ストロベリー・フィールズ、ペニー・レイン、ビートルズ・ストーリー博物館など、ファン必訪のスポットが集結しています。<br><br>
                <b>ロンドンから電車で約2時間</b>で行けます。日帰りでも1泊でもOK！
              </p>
              <span class="spot-card-tag"><i class="fa-solid fa-music"></i> キャバーン・クラブ</span>
              <span class="spot-card-tag"><i class="fa-solid fa-leaf"></i> ストロベリー・フィールズ</span>
              <span class="spot-card-tag"><i class="fa-solid fa-road"></i> ペニー・レイン</span>
              <span class="spot-card-tag"><i class="fa-solid fa-building-columns"></i> ビートルズ・ストーリー</span>
            </div>
          </article>

          <!-- アビーロード -->
          <article class="spot-card beatles-special" id="spot-abbey">
            <img src="https://images.unsplash.com/photo-1534430480872-3498386e7856?w=800&h=400&fit=crop" alt="アビーロードの横断歩道" class="spot-card-img" loading="lazy">
            <div class="spot-card-body">
              <h3 class="spot-card-title">
                <i class="fa-solid fa-road"></i>
                アビーロード（ロンドン）
              </h3>
              <p class="spot-card-desc">
                🎵 あの有名なジャケット写真の横断歩道！<b>ロンドン市内</b>にあるので気軽に立ち寄れます。<br><br>
                EMIスタジオ（現アビーロード・スタジオ）の前にある横断歩道で、同じポーズで記念撮影するのが定番。<b>24時間いつでも訪問可能</b>です。
              </p>
              <span class="spot-card-tag"><i class="fa-solid fa-camera"></i> 記念撮影</span>
              <span class="spot-card-tag"><i class="fa-solid fa-subway"></i> St John's Wood駅</span>
            </div>
          </article>

          <!-- ウェンブリースタジアム -->
          <article class="spot-card" id="spot-wembley">
            <img src="https://images.unsplash.com/photo-1522778119026-d647f0596c20?w=800&h=400&fit=crop" alt="サッカースタジアム" class="spot-card-img" loading="lazy">
            <div class="spot-card-body">
              <h3 class="spot-card-title">
                <i class="fa-solid fa-futbol"></i>
                ウェンブリースタジアム
              </h3>
              <p class="spot-card-desc">
                ⚽ <b>3/31（火）はここで日本代表vsイングランド戦！</b><br><br>
                収容人数約90,000人を誇るイングランドの聖地。ロンドン北西部に位置し、ウェンブリーパーク駅から徒歩圏内。<br><br>
                スタジアムツアーも人気。サッカー以外にも大物アーティストのコンサートが開催される会場としても有名です。
              </p>
              <span class="spot-card-tag"><i class="fa-solid fa-futbol"></i> 試合観戦</span>
              <span class="spot-card-tag"><i class="fa-solid fa-users"></i> 90,000人収容</span>
            </div>
          </article>

          <!-- ビッグベン -->
          <article class="spot-card" id="spot-bigben">
            <img src="https://images.unsplash.com/photo-1486299267070-83823f5448dd?w=800&h=400&fit=crop" alt="ビッグベンとウェストミンスター" class="spot-card-img" loading="lazy">
            <div class="spot-card-body">
              <h3 class="spot-card-title">
                <i class="fa-solid fa-landmark"></i>
                ビッグベン ＆ ウェストミンスター宮殿
              </h3>
              <p class="spot-card-desc">
                🏛️ ロンドンのシンボル！テムズ川沿いにそびえる時計塔。<br><br>
                ウェストミンスター橋やサウスバンクからの眺めは最高。夜のライトアップも美しいです。近くにはウェストミンスター寺院もあり、一緒に観光できます。
              </p>
              <span class="spot-card-tag"><i class="fa-solid fa-camera"></i> 写真映え</span>
              <span class="spot-card-tag"><i class="fa-solid fa-clock"></i> 時計塔</span>
            </div>
          </article>

          <!-- タワーブリッジ -->
          <article class="spot-card" id="spot-tower">
            <img src="https://images.unsplash.com/photo-1513635269975-59663e0ac1ad?w=800&h=400&fit=crop" alt="タワーブリッジ" class="spot-card-img" loading="lazy">
            <div class="spot-card-body">
              <h3 class="spot-card-title">
                <i class="fa-solid fa-bridge"></i>
                タワーブリッジ
              </h3>
              <p class="spot-card-desc">
                🌉 ロンドンを代表する跳ね橋。近くにはロンドン塔もあり、歴史好きにはたまらないエリア。<br><br>
                橋の上部（ガラス張りの通路）を歩くこともでき、テムズ川の絶景が楽しめます。夜景もおすすめ！
              </p>
              <span class="spot-card-tag"><i class="fa-solid fa-person-walking"></i> 橋上を歩ける</span>
              <span class="spot-card-tag"><i class="fa-solid fa-tower-observation"></i> ロンドン塔近く</span>
            </div>
          </article>

          <!-- ミュンヘン -->
          <article class="spot-card" id="spot-munich">
            <img src="https://images.unsplash.com/photo-1595867818082-083862f3d630?w=800&h=400&fit=crop" alt="ミュンヘンの街並み" class="spot-card-img" loading="lazy">
            <div class="spot-card-body">
              <h3 class="spot-card-title">
                <i class="fa-solid fa-beer-mug-empty"></i>
                ミュンヘン（ドイツ）
              </h3>
              <p class="spot-card-desc">
                🍺 帰路途中に立ち寄るバイエルンの中心都市！<br><br>
                マリエン広場、新市庁舎の仕掛け時計、ホフブロイハウス（ビアホール）など見どころ満載。本場のビールとソーセージを楽しめます。<br><br>
                <b>4/4〜4/5に1泊</b>して、ミュンヘン観光も可能です。
              </p>
              <span class="spot-card-tag"><i class="fa-solid fa-beer-mug-empty"></i> ビアホール</span>
              <span class="spot-card-tag"><i class="fa-solid fa-clock"></i> 仕掛け時計</span>
              <span class="spot-card-tag"><i class="fa-solid fa-utensils"></i> ドイツ料理</span>
            </div>
          </article>
        </section>

        <div class="hr"></div>

        <!-- Weather Section -->
        <section aria-labelledby="weather-title">
          <h2 class="sectionTitle" id="weather-title">
            <i class="fa-solid fa-cloud-sun"></i> 天気・気候情報（3月末〜4月初旬）
          </h2>
          <div class="weather-grid">
            <article class="weather-card">
              <div class="weather-city">
                <i class="fa-solid fa-location-dot"></i> ロンドン（イギリス）
              </div>
              <div class="weather-details">
                <div class="weather-temp">
                  <div class="value">8-14</div>
                  <div class="label">平均 °C</div>
                </div>
                <div class="weather-info">
                  <p><i class="fa-solid fa-cloud-rain"></i> にわか雨が多い</p>
                  <p><i class="fa-solid fa-wind"></i> 肌寒く風がある</p>
                  <p><i class="fa-solid fa-umbrella"></i> 折りたたみ傘必須</p>
                </div>
              </div>
            </article>
            <article class="weather-card">
              <div class="weather-city">
                <i class="fa-solid fa-location-dot"></i> ミュンヘン（ドイツ）
              </div>
              <div class="weather-details">
                <div class="weather-temp">
                  <div class="value">4-13</div>
                  <div class="label">平均 °C</div>
                </div>
                <div class="weather-info">
                  <p><i class="fa-solid fa-cloud-sun"></i> 天候は変わりやすい</p>
                  <p><i class="fa-solid fa-temperature-low"></i> 朝晩は冷え込む</p>
                  <p><i class="fa-solid fa-shirt"></i> 重ね着推奨</p>
                </div>
              </div>
            </article>
          </div>
        </section>

        <!-- Transportation Section -->
        <section aria-labelledby="transport-title">
          <h2 class="sectionTitle" id="transport-title">
            <i class="fa-solid fa-train"></i> ヒースロー空港 → ロンドン市内
          </h2>
          <div class="transport-list">
            <div class="transport-item">
              <div class="transport-icon"><i class="fa-solid fa-train"></i></div>
              <div class="transport-info">
                <h4>ヒースロー・エクスプレス</h4>
                <p>最速。パディントン駅までノンストップ。所要約15分。</p>
                <span class="price">£25-37</span>
              </div>
            </div>
            <div class="transport-item">
              <div class="transport-icon"><i class="fa-solid fa-subway"></i></div>
              <div class="transport-info">
                <h4>エリザベス線（TfL）</h4>
                <p>市内中心部へ直通（パディントン、リバプールSt）。所要30-45分。</p>
                <span class="price">£12.80（Oyster）</span>
              </div>
            </div>
            <div class="transport-item">
              <div class="transport-icon"><i class="fa-solid fa-subway"></i></div>
              <div class="transport-info">
                <h4>ピカデリー線（地下鉄）</h4>
                <p>格安。中心部まで直通だが時間がかかる。所要50-60分。</p>
                <span class="price">£6.70（Oyster）</span>
              </div>
            </div>
            <div class="transport-item">
              <div class="transport-icon"><i class="fa-solid fa-taxi"></i></div>
              <div class="transport-info">
                <h4>タクシー / Uber</h4>
                <p>ドア・トゥ・ドア。渋滞次第。所要45-90分。</p>
                <span class="price">£50-100+</span>
              </div>
            </div>
          </div>
        </section>

        <!-- Packing Checklist -->
        <section aria-labelledby="checklist-title" id="checklist">
          <h2 class="sectionTitle" id="checklist-title">
            <i class="fa-solid fa-check-square"></i> 持ち物チェックリスト
          </h2>
          <div class="checklist">
            <div class="checklist-grid" id="checklist-items">
              <!-- Items will be generated by JS -->
            </div>
            <div class="checklist-actions">
              <button class="checklist-btn" onclick="checkAll()">
                <i class="fa-solid fa-check-double"></i> すべてチェック
              </button>
              <button class="checklist-btn" onclick="uncheckAll()">
                <i class="fa-solid fa-rotate-left"></i> リセット
              </button>
            </div>
          </div>
        </section>

        <div class="hr"></div>

        <!-- Lodging Summary -->
        <section aria-labelledby="lodging-title">
          <h2 class="sectionTitle" id="lodging-title">
            <i class="fa-solid fa-hotel"></i> 宿泊まとめ（目安）
          </h2>
          <div class="lodging">
            <div class="callout">
              <i class="fa-solid fa-lightbulb"></i>
              <b>英国滞在の自由度について</b><br>
              英国滞在中（<span class="mono">3/30夜〜4/3夜</span>）は、ロンドンを拠点にしつつ
              <b>リバプール等へ日帰り／1泊</b>で組み替え可能です。<br>
              体調・天候・移動負荷に合わせて<b>柔軟に調整</b>する想定です。
            </div>

            <table class="table" aria-label="宿泊まとめ">
              <thead>
                <tr>
                  <th>区分</th>
                  <th>宿泊（予定）</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><i class="fa-solid fa-city"></i> <b>ロンドン</b></td>
                  <td>3/30(月)・3/31(火)・4/1(水)・4/2(木)・4/3(金) <span class="muted">（計5泊目安）</span></td>
                </tr>
                <tr>
                  <td><i class="fa-solid fa-futbol"></i> <b>リバプール</b></td>
                  <td>4/1(水) または 4/2(木) に <b>1泊へ変更可能</b>（自由調整枠）</td>
                </tr>
                <tr>
                  <td><i class="fa-solid fa-beer-mug-empty"></i> <b>ミュンヘン</b></td>
                  <td>4/4(土) <span class="muted">（計1泊）</span></td>
                </tr>
                <tr>
                  <td><i class="fa-solid fa-plane"></i> <b>機中泊</b></td>
                  <td>4/5(日) 夜〜4/6(月)（ミュンヘン→北京区間）</td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <footer>
          <div>
            <i class="fa-solid fa-user"></i> 森下恭祐 作成 ／ 最終更新：2025年3月
          </div>
          <div>
            <span id="current-time-jst"></span> JST |
            <span id="current-time-uk"></span> UK
          </div>
        </footer>
      </main>
    </section>
  </div>

  <!-- Back to Top Button -->
  <button class="back-to-top" id="backToTop" aria-label="トップへ戻る" onclick="scrollToTop()">
    <i class="fa-solid fa-arrow-up"></i>
  </button>

  <script>
    // Departure date: March 30, 2025, 09:30 JST
    const departureDate = new Date('2025-03-30T09:30:00+09:00');
    // Return date: April 6, 2025, 22:20 JST
    const returnDate = new Date('2025-04-06T22:20:00+09:00');

    // Countdown Timer
    function updateCountdown() {
      try {
        const now = new Date();
        const diffToDeparture = departureDate - now;
        const diffToReturn = returnDate - now;

        const statusEl = document.getElementById('countdown-status');
        const daysEl = document.getElementById('days');
        const hoursEl = document.getElementById('hours');
        const minutesEl = document.getElementById('minutes');
        const secondsEl = document.getElementById('seconds');

        // 要素が存在するか確認
        if (!daysEl || !hoursEl || !minutesEl || !secondsEl) {
          console.error('Countdown elements not found');
          return;
        }

        // 旅行終了後
        if (diffToReturn <= 0) {
          daysEl.textContent = '✓';
          hoursEl.textContent = '--';
          minutesEl.textContent = '--';
          secondsEl.textContent = '--';
          if (statusEl) statusEl.textContent = '（旅行完了！お疲れさまでした）';
          return;
        }

        // 旅行中
        if (diffToDeparture <= 0 && diffToReturn > 0) {
          daysEl.textContent = '✈';
          hoursEl.textContent = '--';
          minutesEl.textContent = '--';
          secondsEl.textContent = '--';
          if (statusEl) statusEl.textContent = '（現在旅行中！）';
          return;
        }

        // 出発前 - カウントダウン表示
        const days = Math.floor(diffToDeparture / (1000 * 60 * 60 * 24));
        const hours = Math.floor((diffToDeparture % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((diffToDeparture % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((diffToDeparture % (1000 * 60)) / 1000);

        daysEl.textContent = days;
        hoursEl.textContent = hours.toString().padStart(2, '0');
        minutesEl.textContent = minutes.toString().padStart(2, '0');
        secondsEl.textContent = seconds.toString().padStart(2, '0');
        if (statusEl) statusEl.textContent = '';
      } catch (e) {
        console.error('Countdown error:', e);
      }
    }

    // ページ読み込み時に即座に実行
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', updateCountdown);
    } else {
      updateCountdown();
    }
    setInterval(updateCountdown, 1000);

    // Current Time Display
    function updateCurrentTime() {
      const now = new Date();
      const jstOptions = { timeZone: 'Asia/Tokyo', hour: '2-digit', minute: '2-digit', hour12: false };
      const ukOptions = { timeZone: 'Europe/London', hour: '2-digit', minute: '2-digit', hour12: false };

      document.getElementById('current-time-jst').textContent = now.toLocaleTimeString('ja-JP', jstOptions);
      document.getElementById('current-time-uk').textContent = now.toLocaleTimeString('ja-JP', ukOptions);
    }

    setInterval(updateCurrentTime, 1000);
    updateCurrentTime();

    // Toggle All Details
    function toggleAllDetails(open) {
      document.querySelectorAll('.tItem details').forEach(details => {
        details.open = open;
      });
    }

    // Back to Top
    const backToTopBtn = document.getElementById('backToTop');

    window.addEventListener('scroll', () => {
      if (window.scrollY > 400) {
        backToTopBtn.classList.add('visible');
      } else {
        backToTopBtn.classList.remove('visible');
      }
    });

    function scrollToTop() {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Packing Checklist with LocalStorage
    const checklistItems = [
      { id: 'passport', label: 'パスポート', icon: 'fa-passport' },
      { id: 'tickets', label: '航空券（eチケット）', icon: 'fa-ticket' },
      { id: 'uketa', label: 'UK ETA（電子渡航認証）', icon: 'fa-file-circle-check' },
      { id: 'insurance', label: '海外旅行保険証', icon: 'fa-shield-halved' },
      { id: 'insurancecard', label: '保険会社緊急連絡カード', icon: 'fa-id-card' },
      { id: 'sim', label: 'SIM / eSIM（海外用）', icon: 'fa-sim-card' },
      { id: 'adapter', label: '変換プラグ（BF/Cタイプ）', icon: 'fa-plug' },
      { id: 'charger', label: 'スマホ充電器', icon: 'fa-charging-station' },
      { id: 'battery', label: 'モバイルバッテリー', icon: 'fa-battery-full' },
      { id: 'umbrella', label: '折りたたみ傘', icon: 'fa-umbrella' },
      { id: 'jacket', label: '防寒着・上着', icon: 'fa-shirt' },
      { id: 'cash', label: '現金（ポンド/ユーロ）', icon: 'fa-money-bill' },
      { id: 'cards', label: 'クレジットカード', icon: 'fa-credit-card' },
      { id: 'medicine', label: '常備薬', icon: 'fa-pills' },
      { id: 'matchticket', label: '試合チケット', icon: 'fa-futbol' },
      { id: 'embassy', label: '大使館連絡先メモ', icon: 'fa-building-flag' }
    ];

    function loadChecklist() {
      const saved = localStorage.getItem('uk-trip-checklist');
      return saved ? JSON.parse(saved) : {};
    }

    function saveChecklist(data) {
      localStorage.setItem('uk-trip-checklist', JSON.stringify(data));
    }

    function renderChecklist() {
      const container = document.getElementById('checklist-items');
      const saved = loadChecklist();

      container.innerHTML = checklistItems.map(item => `
        <div class="checklist-item ${saved[item.id] ? 'checked' : ''}" onclick="toggleItem('${item.id}')">
          <input type="checkbox" id="${item.id}" ${saved[item.id] ? 'checked' : ''} aria-label="${item.label}">
          <label for="${item.id}">
            <i class="fa-solid ${item.icon}"></i>
            ${item.label}
          </label>
        </div>
      `).join('');
    }

    function toggleItem(id) {
      const saved = loadChecklist();
      saved[id] = !saved[id];
      saveChecklist(saved);
      renderChecklist();
    }

    function checkAll() {
      const saved = {};
      checklistItems.forEach(item => saved[item.id] = true);
      saveChecklist(saved);
      renderChecklist();
    }

    function uncheckAll() {
      saveChecklist({});
      renderChecklist();
    }

    renderChecklist();

    // Register Service Worker for PWA
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('sw.js')
          .then(reg => console.log('Service Worker registered'))
          .catch(err => console.log('Service Worker registration failed:', err));
      });
    }
  </script>
</body>
</html>
